/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/charenc/charenc.js":
/*!*****************************************!*\
  !*** ./node_modules/charenc/charenc.js ***!
  \*****************************************/
/***/ ((module) => {

eval("var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n\n\n//# sourceURL=webpack://iirose-media-ts/./node_modules/charenc/charenc.js?");

/***/ }),

/***/ "./node_modules/crypt/crypt.js":
/*!*************************************!*\
  !*** ./node_modules/crypt/crypt.js ***!
  \*************************************/
/***/ ((module) => {

eval("(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n\n\n//# sourceURL=webpack://iirose-media-ts/./node_modules/crypt/crypt.js?");

/***/ }),

/***/ "./node_modules/is-buffer/index.js":
/*!*****************************************!*\
  !*** ./node_modules/is-buffer/index.js ***!
  \*****************************************/
/***/ ((module) => {

eval("/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n//# sourceURL=webpack://iirose-media-ts/./node_modules/is-buffer/index.js?");

/***/ }),

/***/ "./node_modules/md5/md5.js":
/*!*********************************!*\
  !*** ./node_modules/md5/md5.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("(function(){\r\n  var crypt = __webpack_require__(/*! crypt */ \"./node_modules/crypt/crypt.js\"),\r\n      utf8 = (__webpack_require__(/*! charenc */ \"./node_modules/charenc/charenc.js\").utf8),\r\n      isBuffer = __webpack_require__(/*! is-buffer */ \"./node_modules/is-buffer/index.js\"),\r\n      bin = (__webpack_require__(/*! charenc */ \"./node_modules/charenc/charenc.js\").bin),\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n\n\n//# sourceURL=webpack://iirose-media-ts/./node_modules/md5/md5.js?");

/***/ }),

/***/ "./src/Account/GetBiliBili.ts":
/*!************************************!*\
  !*** ./src/Account/GetBiliBili.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GetBiliBiliAccount = void 0;\nvar GetBiliBiliAccount = /** @class */ (function () {\n    function GetBiliBiliAccount() {\n    }\n    GetBiliBiliAccount.prototype.getBiliBiliAccount = function () {\n        var bilibiliaccount = localStorage.getItem('bilibiliaccount');\n        if (bilibiliaccount) {\n            return JSON.parse(bilibiliaccount);\n        }\n        else {\n            return null;\n        }\n    };\n    return GetBiliBiliAccount;\n}());\nexports.GetBiliBiliAccount = GetBiliBiliAccount;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Account/GetBiliBili.ts?");

/***/ }),

/***/ "./src/Account/SetBiliBili.ts":
/*!************************************!*\
  !*** ./src/Account/SetBiliBili.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BiliBiliAccount = void 0;\nvar LoginAPI_1 = __webpack_require__(/*! ../Api/BilibiliAPI/LoginAPI */ \"./src/Api/BilibiliAPI/LoginAPI/index.ts\");\nvar BiliBiliAccount = /** @class */ (function () {\n    function BiliBiliAccount() {\n    }\n    BiliBiliAccount.prototype.setBiliBiliAccountDefaultCookie = function () {\n        this.setBuvid();\n    };\n    BiliBiliAccount.prototype.setBuvid = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var bl, bilibiliaccount, account, buvid, buvid, account;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        bl = new LoginAPI_1.BiliBiliLoginApi();\n                        bilibiliaccount = localStorage.getItem('bilibiliaccount');\n                        if (!bilibiliaccount) return [3 /*break*/, 2];\n                        account = JSON.parse(bilibiliaccount);\n                        if (account.buvid3 && account.buvid4)\n                            return [2 /*return*/];\n                        return [4 /*yield*/, bl.getBuvid()];\n                    case 1:\n                        buvid = _a.sent();\n                        if (!buvid || !buvid.data)\n                            return [2 /*return*/];\n                        account.buvid3 = buvid.data.b_3;\n                        account.buvid4 = buvid.data.b_4;\n                        localStorage.setItem('bilibiliaccount', JSON.stringify(account));\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, bl.getBuvid()];\n                    case 3:\n                        buvid = _a.sent();\n                        if (!buvid || !buvid.data)\n                            return [2 /*return*/];\n                        account = {\n                            buvid3: buvid.data.b_3,\n                            buvid4: buvid.data.b_4\n                        };\n                        localStorage.setItem('bilibiliaccount', JSON.stringify(account));\n                        _a.label = 4;\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return BiliBiliAccount;\n}());\nexports.BiliBiliAccount = BiliBiliAccount;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Account/SetBiliBili.ts?");

/***/ }),

/***/ "./src/Api/BilibiliAPI/BiliBiliSearch/index.ts":
/*!*****************************************************!*\
  !*** ./src/Api/BilibiliAPI/BiliBiliSearch/index.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BiliBiliSearchApi = void 0;\nvar __1 = __webpack_require__(/*! ../.. */ \"./src/Api/index.ts\");\nvar WBI_1 = __webpack_require__(/*! ../Crypto/WBI */ \"./src/Api/BilibiliAPI/Crypto/WBI.ts\");\nvar BiliBiliSearchApi = /** @class */ (function (_super) {\n    __extends(BiliBiliSearchApi, _super);\n    function BiliBiliSearchApi() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 综合搜索（web端）\n     * @param keyword\n     * @param ctx\n     * @returns\n     */\n    BiliBiliSearchApi.prototype.getSearchRequestAll = function (keyword) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, wbi, wbidata, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/wbi/search/all/v2';\n                        params = new URLSearchParams({\n                            keyword: keyword,\n                            search_type: 'article'\n                        });\n                        wbi = new WBI_1.WBI();\n                        return [4 /*yield*/, wbi.main(params)];\n                    case 1:\n                        wbidata = _a.sent();\n                        wbidata.w_rid && params.append('w_rid', wbidata.w_rid);\n                        wbidata.wts && params.append('wts', wbidata.wts.toString());\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 2:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 4];\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 4:\n                        console.log(\"getSearchRequestAll: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 分类搜索（web端）\n     * @param search_type\n     * @param keyword\n     * @param page\n     * @param order\n     * @param order_sort\n     * @param user_type\n     * @param duration\n     * @param tids\n     * @param category_id\n     * @param ctx\n     * @returns\n     */\n    BiliBiliSearchApi.prototype.getSearchRequestByType = function (search_type_1, keyword_1) {\n        return __awaiter(this, arguments, void 0, function (search_type, keyword, page, page_size, order, order_sort, user_type, duration, tids, category_id) {\n            var url, params, wbi, wbidata, headers, response, data;\n            if (page === void 0) { page = null; }\n            if (page_size === void 0) { page_size = null; }\n            if (order === void 0) { order = null; }\n            if (order_sort === void 0) { order_sort = null; }\n            if (user_type === void 0) { user_type = null; }\n            if (duration === void 0) { duration = null; }\n            if (tids === void 0) { tids = null; }\n            if (category_id === void 0) { category_id = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"\".concat(this.cors, \"https://api.bilibili.com/x/web-interface/wbi/search/type\");\n                        params = new URLSearchParams({\n                            search_type: search_type,\n                            keyword: keyword\n                        });\n                        page_size && params.append('page_size', page_size.toString());\n                        page && params.append('page', page.toString());\n                        order && params.append('order', order);\n                        order_sort && params.append('order_sort', order_sort);\n                        user_type && params.append('user_type', user_type.toString());\n                        duration && params.append('duration', duration.toString());\n                        tids && params.append('tids', tids.toString());\n                        category_id && params.append('category_id', category_id.toString());\n                        wbi = new WBI_1.WBI();\n                        return [4 /*yield*/, wbi.main(params)];\n                    case 1:\n                        wbidata = _a.sent();\n                        wbidata.w_rid && params.append('w_rid', wbidata.w_rid);\n                        wbidata.wts && params.append('wts', wbidata.wts.toString());\n                        headers = this.returnBiliBiliHeadersBuvidOnly();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 2:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 4];\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 4:\n                        console.log(\"getSearchRequestByType: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 视频搜索（web端）\n     * @param keyword\n     * @param page\n     * @param page_size 返回多少内容，最大50\n     * @param order\n     * @param duration\n     * @param tids\n     * @param ctx\n     * @returns\n     */\n    BiliBiliSearchApi.prototype.getSearchRequestByTypeVideo = function (keyword_1) {\n        return __awaiter(this, arguments, void 0, function (keyword, page, page_size, order, duration, tids) {\n            var data;\n            if (page === void 0) { page = null; }\n            if (page_size === void 0) { page_size = null; }\n            if (order === void 0) { order = null; }\n            if (duration === void 0) { duration = null; }\n            if (tids === void 0) { tids = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getSearchRequestByType('video', keyword, page, page_size, order, null, null, duration, tids, null)];\n                    case 1:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    /**\n     * 番剧搜索（web端）\n     * @param keyword // 需要搜索的关键词\n     * @param page // 页码\n     * @param ctx\n     * @returns\n     */\n    BiliBiliSearchApi.prototype.getSearchRequestByTypeMediaBangumi = function (keyword_1) {\n        return __awaiter(this, arguments, void 0, function (keyword, page) {\n            var data;\n            if (page === void 0) { page = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getSearchRequestByType('media_bangumi', keyword, page, null, null, null, null, null, null)];\n                    case 1:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    /**\n     * 影视搜索（web端）\n     * @param keyword\n     * @param page\n     * @param ctx\n     * @returns\n     */\n    BiliBiliSearchApi.prototype.getSearchRequestByTypeMediaFT = function (keyword_1) {\n        return __awaiter(this, arguments, void 0, function (keyword, page) {\n            var data;\n            if (page === void 0) { page = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getSearchRequestByType('media_ft', keyword, page, null, null, null, null, null, null)];\n                    case 1:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    /**\n     * 直播间和主播搜索（web端）\n     * @param keyword\n     * @param page\n     * @param order\n     * @param ctx\n     * @returns\n     */\n    BiliBiliSearchApi.prototype.getSearchRequestByTypeLiveRoomAndLiveUser = function (keyword_1) {\n        return __awaiter(this, arguments, void 0, function (keyword, page, page_size, order) {\n            var data;\n            if (page === void 0) { page = null; }\n            if (page_size === void 0) { page_size = null; }\n            if (order === void 0) { order = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getSearchRequestByType('live', keyword, page, page_size, order, null, null, null, null, null)];\n                    case 1:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    /**\n     * 直播间搜索（web端）\n     * @param keyword\n     * @param page\n     * @param order\n     * @param ctx\n     * @returns\n     */\n    BiliBiliSearchApi.prototype.getSearchRequestByTypeLiveRoom = function (keyword_1) {\n        return __awaiter(this, arguments, void 0, function (keyword, page, page_size, order) {\n            var data;\n            if (page === void 0) { page = null; }\n            if (page_size === void 0) { page_size = null; }\n            if (order === void 0) { order = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getSearchRequestByType('live_room', keyword, page, page_size, order, null, null, null, null, null)];\n                    case 1:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    /**\n     * 主播搜索（web端）\n     * @param keyword\n     * @param page\n     * @param ctx\n     * @returns\n     */\n    BiliBiliSearchApi.prototype.getSearchRequestByTypeLiveUser = function (keyword_1) {\n        return __awaiter(this, arguments, void 0, function (keyword, page) {\n            var data;\n            if (page === void 0) { page = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getSearchRequestByType('live_user', keyword, page, null, null, null, null, null, null)];\n                    case 1:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    /**\n     * 专栏搜索（web端）\n     * @param keyword\n     * @param page\n     * @param order\n     * @param category_id\n     * @param ctx\n     * @returns\n     */\n    BiliBiliSearchApi.prototype.getSearchRequestByArticle = function (keyword_1) {\n        return __awaiter(this, arguments, void 0, function (keyword, page, page_size, order, category_id) {\n            var data;\n            if (page === void 0) { page = null; }\n            if (page_size === void 0) { page_size = null; }\n            if (order === void 0) { order = null; }\n            if (category_id === void 0) { category_id = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getSearchRequestByType('photo', keyword, page, page_size, order, null, null, null, null, category_id)];\n                    case 1:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    /**\n     * 相簿搜索（web端），他还存在，但是返回的result是空的\n     * @param keyword\n     * @param page\n     * @param order\n     * @param category_id\n     * @param ctx\n     * @returns\n     */\n    BiliBiliSearchApi.prototype.getSearchRequestByPhoto = function (keyword_1) {\n        return __awaiter(this, arguments, void 0, function (keyword, page, page_size, order, category_id) {\n            var data;\n            if (page === void 0) { page = null; }\n            if (page_size === void 0) { page_size = null; }\n            if (order === void 0) { order = null; }\n            if (category_id === void 0) { category_id = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getSearchRequestByType('photo', keyword, page, page_size, order, null, null, null, null, category_id)];\n                    case 1:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                }\n            });\n        });\n    };\n    return BiliBiliSearchApi;\n}(__1.SendFetch));\nexports.BiliBiliSearchApi = BiliBiliSearchApi;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Api/BilibiliAPI/BiliBiliSearch/index.ts?");

/***/ }),

/***/ "./src/Api/BilibiliAPI/BiliBiliVideoAPI/index.ts":
/*!*******************************************************!*\
  !*** ./src/Api/BilibiliAPI/BiliBiliVideoAPI/index.ts ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BiliBiliVideoApi = void 0;\nvar __1 = __webpack_require__(/*! ../.. */ \"./src/Api/index.ts\");\nvar WBI_1 = __webpack_require__(/*! ../Crypto/WBI */ \"./src/Api/BilibiliAPI/Crypto/WBI.ts\");\nvar BiliBiliVideoApi = /** @class */ (function (_super) {\n    __extends(BiliBiliVideoApi, _super);\n    function BiliBiliVideoApi() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 获取视频的各种信息\n     * @param bvid bv号\n     * @param biliBiliSessData BiliBili SessData\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getBilibiliVideoData = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"\".concat(this.cors, \"https://api.bilibili.com/x/web-interface/view\");\n                        params = new URLSearchParams();\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log('getBilibiliVideoData:', response.statusText);\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取视频流\n     * @param aid\n     * @param bvid\n     * @param cid\n     * @param qn\n     * @param platform\n     * @param fnval\n     * @param ctx\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getBilibiliVideoStream = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid, cid, qn, platform, fnval) {\n            var url, params, wbi, wbidata, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            if (platform === void 0) { platform = null; }\n            if (fnval === void 0) { fnval = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"\".concat(this.cors, \"https://api.bilibili.com/x/player/wbi/playurl\");\n                        params = new URLSearchParams({\n                            cid: cid.toString(),\n                            qn: qn.toString(),\n                            high_quality: '1',\n                            fnver: '0',\n                            fourk: '1',\n                        });\n                        aid && params.set('avid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        fnval && params.set('fnval', fnval.toString());\n                        platform && params.set('platform', platform);\n                        wbi = new WBI_1.WBI();\n                        return [4 /*yield*/, wbi.main(params)];\n                    case 1:\n                        wbidata = _a.sent();\n                        wbidata.w_rid && params.set('w_rid', wbidata.w_rid);\n                        wbidata.wts && params.set('wts', wbidata.wts.toString());\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 2:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 4];\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 4:\n                        console.log('getBilibiliVideoStream:', response.statusText);\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    BiliBiliVideoApi.prototype.getBilibiliVideoStreamFromFunctionCompute = function (avid, bvid, cid, biliBiliPlatform, biliBiliqn, remoteUrl) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = remoteUrl + '/GetBiliBiliVideoStream';\n                        params = new URLSearchParams({\n                            bvid: bvid,\n                            avid: avid,\n                            cid: cid,\n                            qn: biliBiliqn.toString(),\n                            platform: biliBiliPlatform,\n                            // sessdata: this.BilibiliAccountData?.SESSDATA || ''\n                        });\n                        headers = this.returnCommonHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getBilibiliVideoStreamFromFunctionCompute: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取视频状态数\n     * @deprecated 这个接口疑似不再可用\n     * @param avid\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getBilibiliVideoStatus = function (avid) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/archive_stat/stat';\n                        params = new URLSearchParams({\n                            aid: avid.toString()\n                        });\n                        headers = this.returnCommonHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getBilibiliVideoStatus: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取视频快照\n     * @param aid\n     * @param bvid\n     * @param cid\n     * @param index\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getBilibiliVideoSnapshot = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid, cid, index) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            if (cid === void 0) { cid = null; }\n            if (index === void 0) { index = 0; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/player/videoshot';\n                        params = new URLSearchParams();\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        cid && params.set('cid', cid);\n                        params.set('index', index.toString());\n                        if (cid)\n                            params.set('cid', cid);\n                        headers = this.returnCommonHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getBilibiliVideoSnapshot: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 点赞视频\n     * @param aid\n     * @param bvid\n     * @param like 1: 点赞 2: 取消点赞, 3: 点踩, 4: 取消点踩\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.likeOrDislikeBilibiliVideo = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid, like) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/archive/like';\n                        params = new URLSearchParams({\n                            like: like.toString(),\n                            // csrf: this.BilibiliAccountData?.csrf || '',\n                            source: 'web_normal'\n                        });\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"likeOrDislikeBilibiliVideo: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 检查是否已经点赞/点踩\n     * @param aid\n     * @param bvid\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.checkIsLikedAndUnliked = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/archive/has/like';\n                        params = new URLSearchParams();\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"checkIsLikedAndUnliked: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 投币视频\n     * @param aid\n     * @param bvid\n     * @param multilpy\n     * @param select_like\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.addCoin = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid, multilpy, select_like) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/coin/add';\n                        params = new URLSearchParams({\n                            multiply: multilpy.toString(),\n                            select_like: select_like.toString(),\n                            source: 'web_normal',\n                            eab_x: '2', // 必要，不然无法执行投币但不点赞的操作\n                            // csrf: this.BilibiliAccountData?.csrf || '',\n                        });\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"addCoin: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 检查是否已经投币\n     * @param aid\n     * @param bvid\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.checkIsAddedCoin = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/archive/coins';\n                        params = new URLSearchParams();\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"checkIsAddedCoin: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 收藏或者取消收藏视频\n     * @param aid\n     * @param add_media_ids\n     * @param del_media_ids\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.addFavorite = function (aid_1) {\n        return __awaiter(this, arguments, void 0, function (aid, add_media_ids, del_media_ids) {\n            var url, params, headers, response, data;\n            if (add_media_ids === void 0) { add_media_ids = null; }\n            if (del_media_ids === void 0) { del_media_ids = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/v3/fav/resource/deal';\n                        params = new URLSearchParams({\n                            rid: aid.toString(),\n                            type: '2',\n                            add_media_ids: (add_media_ids === null || add_media_ids === void 0 ? void 0 : add_media_ids.join(',')) || '',\n                            del_media_ids: (del_media_ids === null || del_media_ids === void 0 ? void 0 : del_media_ids.join(',')) || '',\n                            // csrf: this.BilibiliAccountData?.csrf || '',\n                            eab_x: '2'\n                        });\n                        headers = this.returnBilibiliHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"addFavorite: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 检查是否已经收藏\n     * @param aid\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.checkIsFavorite = function (aid) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/v2/fav/video/favoured';\n                        params = new URLSearchParams({\n                            aid: aid.toString()\n                        });\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"checkIsFavorite: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 一键三连\n     * @param aid\n     * @param bvid\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.archiveLikeTriple = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/archive/like/triple';\n                        params = new URLSearchParams({\n                        // csrf: this.BilibiliAccountData?.csrf || ''\n                        });\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"archiveLikeTriple: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 分享视频（仅仅为了增加那个分享数）\n     * @param aid\n     * @param bvid\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.shareVideo = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/share/add';\n                        params = new URLSearchParams({\n                        // csrf: this.BilibiliAccountData?.csrf || ''\n                        });\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"shareVideo: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取视频标签\n     * @param aid\n     * @param bvid\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getVideoTags = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/tag/archive/tags';\n                        params = new URLSearchParams();\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getVideoTags: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 点赞标签, 重复访问会取消点赞\n     * @param aid\n     * @param tag_id\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.likeTag = function (aid, tag_id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, wbi, wbidata, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/tag/archive/like2';\n                        params = new URLSearchParams({\n                            aid: aid.toString(),\n                            tag_id: tag_id.toString(),\n                            // csrf: this.BilibiliAccountData?.csrf || ''\n                        });\n                        wbi = new WBI_1.WBI();\n                        return [4 /*yield*/, wbi.main(params)];\n                    case 1:\n                        wbidata = _a.sent();\n                        wbidata.w_rid && params.set('w_rid', wbidata.w_rid);\n                        wbidata.wts && params.set('wts', wbidata.wts.toString());\n                        headers = this.returnBilibiliHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 2:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 4];\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 4:\n                        console.log(\"likeTag: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 点踩标签, 重复访问会取消点踩\n     * @param aid\n     * @param tag_id\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.dislikeTag = function (aid, tag_id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/tag/archive/hate2';\n                        params = new URLSearchParams({\n                            aid: aid.toString(),\n                            tag_id: tag_id.toString(),\n                            // csrf: this.BilibiliAccountData?.csrf || ''\n                        });\n                        headers = this.returnBilibiliHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"dislikeTag: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 根据视频获取推荐视频\n     * @param aid\n     * @param bvid\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getRecommandVideoFromSingleVideo = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/archive/related';\n                        params = new URLSearchParams();\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getRecommandVideoFromSingleVideo: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取主页推荐视频\n     * @param fresh_type\n     * @param version\n     * @param ps 获取多少，最多30\n     * @param fresh_idx\n     * @param fresh_idx_1h\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getRecommendVideoFromMainPage = function () {\n        return __awaiter(this, arguments, void 0, function (fresh_type, version, ps, fresh_idx, fresh_idx_1h, brush) {\n            var url, params, headers, response, data;\n            if (fresh_type === void 0) { fresh_type = 3; }\n            if (version === void 0) { version = 1; }\n            if (ps === void 0) { ps = 8; }\n            if (fresh_idx === void 0) { fresh_idx = 1; }\n            if (fresh_idx_1h === void 0) { fresh_idx_1h = 1; }\n            if (brush === void 0) { brush = 0; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"\".concat(this.cors, \"https://api.bilibili.com/x/web-interface/wbi/index/top/feed/rcmd\");\n                        params = new URLSearchParams({\n                            fresh_type: fresh_type.toString(),\n                            version: version.toString(),\n                            ps: ps.toString(),\n                            fresh_idx: fresh_idx.toString(),\n                            fresh_idx_1h: fresh_idx_1h.toString(),\n                            brush: brush.toString()\n                        });\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getRecommendVideoFromMainPage: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取推荐短视频\n     * @param fnval\n     * @param force_host\n     * @param fourk\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getRecommendShortVideo = function () {\n        return __awaiter(this, arguments, void 0, function (fnval, force_host, fourk) {\n            var url, headers, params, response, data;\n            if (fnval === void 0) { fnval = 272; }\n            if (force_host === void 0) { force_host = 2; }\n            if (fourk === void 0) { fourk = 1; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://app.bilibili.com/x/v2/feed/index';\n                        headers = this.returnBilibiliHeaders();\n                        params = new URLSearchParams({\n                            fnval: fnval.toString(),\n                            fnver: '0',\n                            force_host: force_host.toString(),\n                            fourk: fourk.toString()\n                        });\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getRecommendShortVideo: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取互动视频详情\n     * @see{}\n     * @param aid\n     * @param bvid\n     * @param graph_version\n     * @param edge_id\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getInteractiveVideoDetail = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid, graph_version, edge_id) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            if (edge_id === void 0) { edge_id = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/stein/edgeinfo_v2';\n                        params = new URLSearchParams({\n                            graph_version: graph_version.toString()\n                        });\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        edge_id && params.set('edge_id', edge_id.toString());\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getInteractiveVideoDetail: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取弹幕趋势顶点列表\n     * @param cid\n     * @param aid\n     * @param bvid\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getHighEnergyBarList = function (cid_1) {\n        return __awaiter(this, arguments, void 0, function (cid, aid, bvid) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://bvc.bilivideo.com/pbp/data';\n                        params = new URLSearchParams({\n                            cid: cid.toString()\n                        });\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getHighEnergyBarList: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 设置观看历史 (在视频的哪一秒)\n     * @param aid\n     * @param cid\n     * @param progress\n     * @param platform\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.setViewHistory = function (aid_1, cid_1) {\n        return __awaiter(this, arguments, void 0, function (aid, cid, progress, platform) {\n            var url, params, headers, response, data;\n            if (progress === void 0) { progress = 0; }\n            if (platform === void 0) { platform = ''; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/v2/history/report';\n                        params = new URLSearchParams({\n                            aid: aid.toString(),\n                            cid: cid.toString(),\n                            progress: progress.toString(),\n                            platform: platform\n                        });\n                        headers = this.returnBilibiliHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"setViewHistory: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 上报心跳\n     * @param aid\n     * @param bvid\n     * @param cid\n     * @param epid\n     * @param sid\n     * @param mid\n     * @param played_time\n     * @param realtime\n     * @param start_ts\n     * @param type\n     * @param sub_type\n     * @param dt\n     * @param play_type\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.postHeartbeat = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid, cid, epid, sid, mid, played_time, realtime, start_ts, type, sub_type, dt, play_type) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            if (cid === void 0) { cid = null; }\n            if (epid === void 0) { epid = null; }\n            if (sid === void 0) { sid = null; }\n            if (mid === void 0) { mid = null; }\n            if (played_time === void 0) { played_time = 0; }\n            if (realtime === void 0) { realtime = null; }\n            if (start_ts === void 0) { start_ts = null; }\n            if (type === void 0) { type = null; }\n            if (sub_type === void 0) { sub_type = null; }\n            if (dt === void 0) { dt = null; }\n            if (play_type === void 0) { play_type = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/click-interface/web/heartbeat';\n                        params = new URLSearchParams();\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        cid && params.set('cid', cid.toString());\n                        epid && params.set('epid', epid.toString());\n                        sid && params.set('sid', sid.toString());\n                        mid && params.set('mid', mid.toString());\n                        played_time && params.set('played_time', played_time.toString());\n                        realtime && params.set('realtime', realtime.toString());\n                        start_ts && params.set('start_ts', start_ts.toString());\n                        type && params.set('type', type.toString());\n                        sub_type && params.set('sub_type', sub_type.toString());\n                        dt && params.set('dt', dt.toString());\n                        play_type && params.set('play_type', play_type.toString());\n                        headers = this.returnBilibiliHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"postHeartbeat: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取当前在线观看人数\n     * @param aid\n     * @param bvid\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getCurrentOnlineViewers = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid, cid) {\n            var url, params, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/player/online/total';\n                        params = new URLSearchParams({\n                            cid: cid.toString()\n                        });\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getCurrentOnlineViewers: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取AI总结内容\n     * @param aid\n     * @param bvid\n     * @param cid\n     * @param up_mid\n     * @param ctx\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getAIConclusionAboutVideo = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid, cid, up_mid) {\n            var url, params, wbi, wbidata, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/view/conclusion/get';\n                        params = new URLSearchParams();\n                        params.set('cid', cid.toString());\n                        params.set('up_mid', up_mid.toString());\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        wbi = new WBI_1.WBI();\n                        return [4 /*yield*/, wbi.main(params)];\n                    case 1:\n                        wbidata = _a.sent();\n                        wbidata.w_rid && params.set('w_rid', wbidata.w_rid);\n                        wbidata.wts && params.set('wts', wbidata.wts.toString());\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 2:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 4];\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 4:\n                        console.log(\"getAIConclusionAboutVideo: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 点赞或者取消点赞AI总结\n     * @param aid\n     * @param bvid\n     * @param cid\n     * @param up_mid\n     * @param stid\n     * @param like_state\n     * @param ctx\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.likeAndDislikeAIConclusion = function () {\n        return __awaiter(this, arguments, void 0, function (aid, bvid, cid, up_mid, stid, like_state) {\n            var params, wbi, wbidata, url, headers, response, data;\n            if (aid === void 0) { aid = null; }\n            if (bvid === void 0) { bvid = null; }\n            if (up_mid === void 0) { up_mid = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        params = new URLSearchParams();\n                        wbi = new WBI_1.WBI();\n                        return [4 /*yield*/, wbi.main(params)];\n                    case 1:\n                        wbidata = _a.sent();\n                        url = \"https://api.bilibili.com/x/web-interface/view/conclusion/set?w_rid=\".concat(wbidata.w_rid, \"&wts=\").concat(wbidata.wts);\n                        aid && params.set('aid', aid.toString());\n                        bvid && params.set('bvid', bvid);\n                        params.set('cid', cid.toString());\n                        up_mid && params.set('up_mid', up_mid.toString());\n                        params.set('stid', stid.toString());\n                        params.set('like_state', like_state.toString());\n                        headers = this.returnBilibiliHeaders();\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 2:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 4];\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 4:\n                        console.log(\"likeAndDislikeAIConclusion: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取投诉类型\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getAppealType = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/archive/appeal/tags';\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, new URLSearchParams(), headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getAppealType: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 投诉稿件\n     * @param aid\n     * @param tid\n     * @param desc\n     * @param attach\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.makeAppeal = function (aid_1, tid_1, desc_1) {\n        return __awaiter(this, arguments, void 0, function (aid, tid, desc, attach) {\n            var url, params, headers, response, data;\n            if (attach === void 0) { attach = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/web-interface/appeal/v2/submit';\n                        params = new URLSearchParams();\n                        params.set('aid', aid.toString());\n                        params.set('tid', tid.toString());\n                        params.set('desc', desc);\n                        attach && params.set('attach', attach);\n                        return [4 /*yield*/, this.returnBilibiliHeaders()];\n                    case 1:\n                        headers = _a.sent();\n                        console.log(headers);\n                        headers.set('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, params, headers)];\n                    case 2:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 4];\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 4:\n                        console.log(\"makeAppeal: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取视频合集信息\n     * @param mid\n     * @param season_id\n     * @param sort_reverse\n     * @param page_num\n     * @param page_size\n     * @returns\n     */\n    BiliBiliVideoApi.prototype.getSeasonArchivesList = function (mid_1, season_id_1) {\n        return __awaiter(this, arguments, void 0, function (mid, season_id, sort_reverse, page_num, page_size) {\n            var url, params, headers, response, data;\n            if (sort_reverse === void 0) { sort_reverse = null; }\n            if (page_num === void 0) { page_num = null; }\n            if (page_size === void 0) { page_size = null; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/polymer/web-space/seasons_archives_list';\n                        params = new URLSearchParams();\n                        params.set('mid', mid.toString());\n                        params.set('season_id', season_id.toString());\n                        sort_reverse && params.set('sort_reverse', sort_reverse.toString());\n                        page_num && params.set('page_num', page_num.toString());\n                        page_size && params.set('page_size', page_size.toString());\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(\"getSeasonArchivesList: \".concat(response.statusText, \" code: \").concat(response.status));\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    return BiliBiliVideoApi;\n}(__1.SendFetch));\nexports.BiliBiliVideoApi = BiliBiliVideoApi;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Api/BilibiliAPI/BiliBiliVideoAPI/index.ts?");

/***/ }),

/***/ "./src/Api/BilibiliAPI/Crypto/WBI.ts":
/*!*******************************************!*\
  !*** ./src/Api/BilibiliAPI/Crypto/WBI.ts ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WBI = void 0;\nvar md5_1 = __importDefault(__webpack_require__(/*! md5 */ \"./node_modules/md5/md5.js\"));\nvar LoginAPI_1 = __webpack_require__(/*! ../LoginAPI */ \"./src/Api/BilibiliAPI/LoginAPI/index.ts\");\n/**\n *\n */\nvar WBI = /** @class */ (function () {\n    function WBI() {\n        var _this = this;\n        this.mixinKeyEncTab = [\n            46, 47, 18, 2, 53, 8, 23, 32, 15, 50, 10, 31, 58, 3, 45, 35, 27, 43, 5, 49, 33, 9, 42,\n            19, 29, 28, 14, 39, 12, 38, 41, 13, 37, 48, 7, 16, 24, 55, 40, 61, 26, 17, 0, 1, 60,\n            51, 30, 4, 22, 25, 54, 21, 56, 59, 6, 63, 57, 62, 11, 36, 20, 34, 44, 52,\n        ];\n        this.getMixinKey = function (orig) { return _this.mixinKeyEncTab.map(function (n) { return orig[n]; }).join('').slice(0, 32); };\n    }\n    /**\n     *\n     * @see {@link https://github.com/SocialSisterYi/bilibili-API-collect/blob/master/docs/misc/sign/wbi.md#JavaScript}\n     * @param Params 你的参数\n     * @returns {string}\n     */\n    WBI.prototype.main = function (Params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var web_keys, params, img_key, sub_key, query;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getWbiKeys()];\n                    case 1:\n                        web_keys = _a.sent();\n                        if (!web_keys)\n                            return [2 /*return*/, this.extractParams(null)];\n                        params = Object.fromEntries(Params.entries()), img_key = web_keys.img_key, sub_key = web_keys.sub_key;\n                        query = this.encWbi(params, img_key, sub_key);\n                        return [2 /*return*/, this.extractParams(query)];\n                }\n            });\n        });\n    };\n    WBI.prototype.extractParams = function (wbikey) {\n        var w_rid = null;\n        var wts = null;\n        if (!wbikey)\n            return { w_rid: w_rid, wts: wts };\n        var paramsArray = wbikey.split(\"&\");\n        paramsArray.forEach(function (param) {\n            var _a = __read(param.split(\"=\"), 2), name = _a[0], value = _a[1];\n            if (name === \"w_rid\") {\n                w_rid = value;\n            }\n            else if (name === \"wts\") {\n                wts = parseInt(value);\n            }\n        });\n        return { w_rid: w_rid, wts: wts };\n    };\n    WBI.prototype.getWbiKeys = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var bilibiliLoginApi, NavUserData, img_url, sub_url;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        bilibiliLoginApi = new LoginAPI_1.BiliBiliLoginApi();\n                        return [4 /*yield*/, bilibiliLoginApi.getNavUserData()];\n                    case 1:\n                        NavUserData = _a.sent();\n                        if (!NavUserData)\n                            return [2 /*return*/, null];\n                        img_url = NavUserData.data.wbi_img.img_url;\n                        sub_url = NavUserData.data.wbi_img.sub_url;\n                        return [2 /*return*/, {\n                                img_key: img_url.slice(img_url.lastIndexOf('/') + 1, img_url.lastIndexOf('.')),\n                                sub_key: sub_url.slice(sub_url.lastIndexOf('/') + 1, sub_url.lastIndexOf('.'))\n                            }];\n                }\n            });\n        });\n    };\n    WBI.prototype.encWbi = function (params, img_key, sub_key) {\n        var mixin_key = this.getMixinKey(img_key + sub_key), curr_time = Math.round(Date.now() / 1000), chr_filter = /[!'()*]/g;\n        // 按照 key 重排参数\n        Object.assign(params, { wts: curr_time }); // 添加 wts 字段\n        var query = Object\n            .keys(params)\n            .sort()\n            .map(function (key) {\n            // 过滤 value 中的 \"!'()*\" 字符\n            var value = (params[key] || '').toString().replace(chr_filter, '');\n            return \"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(value));\n        })\n            .join('&');\n        var wbi_sign = (0, md5_1.default)(query + mixin_key); // 计算 w_rid\n        return query + '&w_rid=' + wbi_sign;\n    };\n    return WBI;\n}());\nexports.WBI = WBI;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Api/BilibiliAPI/Crypto/WBI.ts?");

/***/ }),

/***/ "./src/Api/BilibiliAPI/LoginAPI/index.ts":
/*!***********************************************!*\
  !*** ./src/Api/BilibiliAPI/LoginAPI/index.ts ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BiliBiliLoginApi = void 0;\nvar __1 = __webpack_require__(/*! ../.. */ \"./src/Api/index.ts\");\n// import { MainPageCookie } from '../../Generate/MainPageCookieInterface';\n// const jsdom = require('jsdom');\n// const { JSDOM } = jsdom;\nvar BiliBiliLoginApi = /** @class */ (function (_super) {\n    __extends(BiliBiliLoginApi, _super);\n    function BiliBiliLoginApi() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BiliBiliLoginApi.prototype.QRLogin = function (qrcode_key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, headers, data, response, responseData;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://passport.bilibili.com/x/passport-login/web/qrcode/poll';\n                        headers = this.returnBilibiliHeaders();\n                        data = new URLSearchParams({\n                            qrcode_key: qrcode_key\n                        });\n                        return [4 /*yield*/, this.sendGet(url, data, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        responseData = _a.sent();\n                        return [2 /*return*/, responseData];\n                    case 3:\n                        console.log('Warn:', response.statusText);\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    BiliBiliLoginApi.prototype.getQRCode = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://passport.bilibili.com/x/passport-login/web/qrcode/generate';\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, new URLSearchParams(''), headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log('Warn:', response.statusText);\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    BiliBiliLoginApi.prototype.accountStatusAPI = function (csrf, biliBiliSessData) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://passport.bilibili.com/x/passport-login/web/cookie/info';\n                        params = new URLSearchParams({\n                            csrf: csrf\n                        });\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        if (data.code === 0) {\n                            return [2 /*return*/, data];\n                        }\n                        else {\n                            console.log(\"accountStatusAPI: \".concat(data.message, \", code: \").concat(data.code));\n                            throw new Error(\"accountStatusAPI: \".concat(data.message, \", code: \").concat(data.code));\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        console.log(\"accountStatusAPI: \".concat(response.statusText, \" code: \").concat(response.status));\n                        throw new Error(\"accountStatusAPI: \".concat(response.statusText, \" code: \").concat(response.status));\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * 获取buvid (游览器指纹?)\n     * @returns\n     */\n    BiliBiliLoginApi.prototype.getBuvid = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/frontend/finger/spi';\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, new URLSearchParams(''), headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log('Warn:', response.statusText);\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 激活cookie\n     * 还没做好，不清楚是什么问题\n     * @see {@link https://github.com/SocialSisterYi/bilibili-API-collect/issues/686}\n     * @see {@link https://github.com/SocialSisterYi/bilibili-API-collect/issues/933}\n     * @returns\n     */\n    BiliBiliLoginApi.prototype.activateCookie = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, headers, timestamp, payload, param, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = 'https://api.bilibili.com/x/internal/gaia-gateway/ExClimbWuzhi';\n                        headers = this.returnBilibiliHeaders();\n                        timestamp = Date.now();\n                        payload = {\n                            \"3064\": 1, // ptype, mobile => 2, others => 1\n                            \"5062\": timestamp, // timestamp\n                            \"03bf\": \"https%3A%2F%2Fwww.bilibili.com%2F\", // url accessed\n                            \"39c8\": \"333.1007.fp.risk\", // spm_id,\n                            \"34f1\": \"\", // target_url, default empty now\n                            \"d402\": \"\", // screenx, default empty\n                            \"654a\": \"\", // screeny, default empty\n                            \"6e7c\": \"839x959\", // browser_resolution, window.innerWidth || document.body && document.body.clientWidth + \"x\" + window.innerHeight || document.body && document.body.clientHeight\n                            \"3c43\": {\n                                \"2673\": 1, // hasLiedResolution, window.screen.width < window.screen.availWidth || window.screen.height < window.screen.availHeight\n                                \"5766\": 24, // colorDepth, window.screen.colorDepth\n                                \"6527\": 0, // addBehavior, !!window.HTMLElement.prototype.addBehavior, html5 api\n                                \"7003\": 1, // indexedDb, !!window.indexedDB, html5 api\n                                \"807e\": 1, // cookieEnabled, navigator.cookieEnabled\n                                \"b8ce\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\", // ua\n                                \"641c\": 0, // webdriver, navigator.webdriver, like Selenium\n                                \"07a4\": \"zh-CN\", // language\n                                \"1c57\": 8, // deviceMemory in GB, navigator.deviceMemory\n                                \"0bd0\": 16, // hardwareConcurrency, navigator.hardwareConcurrency\n                                \"748e\": [\n                                    2560, // window.screen.width\n                                    1080 // window.screen.height\n                                ], // screenResolution\n                                \"d61f\": [\n                                    2467, // window.screen.availWidth\n                                    1091 // window.screen.availHeight\n                                ], // availableScreenResolution\n                                \"fc9d\": 480, // timezoneOffset, (new Date).getTimezoneOffset()\n                                \"6aa9\": \"Asia/Hong_Kong\", // timezone, (new window.Intl.DateTimeFormat).resolvedOptions().timeZone\n                                \"75b8\": 1, // sessionStorage, window.sessionStorage, html5 api\n                                \"3b21\": 1, // localStorage, window.localStorage, html5 api\n                                \"8a1c\": 0, // openDatabase, window.openDatabase, html5 api\n                                \"d52f\": \"not available\", // cpuClass, navigator.cpuClass\n                                \"adca\": \"Win32\", // platform, navigator.platform\n                                \"80c9\": [\n                                    [\n                                        \"PDF Viewer\",\n                                        \"Portable Document Format\",\n                                        [\n                                            [\n                                                \"application/pdf\",\n                                                \"pdf\"\n                                            ],\n                                            [\n                                                \"text/pdf\",\n                                                \"pdf\"\n                                            ]\n                                        ]\n                                    ],\n                                    [\n                                        \"Chrome PDF Viewer\",\n                                        \"Portable Document Format\",\n                                        [\n                                            [\n                                                \"application/pdf\",\n                                                \"pdf\"\n                                            ],\n                                            [\n                                                \"text/pdf\",\n                                                \"pdf\"\n                                            ]\n                                        ]\n                                    ],\n                                    [\n                                        \"Chromium PDF Viewer\",\n                                        \"Portable Document Format\",\n                                        [\n                                            [\n                                                \"application/pdf\",\n                                                \"pdf\"\n                                            ],\n                                            [\n                                                \"text/pdf\",\n                                                \"pdf\"\n                                            ]\n                                        ]\n                                    ],\n                                    [\n                                        \"Microsoft Edge PDF Viewer\",\n                                        \"Portable Document Format\",\n                                        [\n                                            [\n                                                \"application/pdf\",\n                                                \"pdf\"\n                                            ],\n                                            [\n                                                \"text/pdf\",\n                                                \"pdf\"\n                                            ]\n                                        ]\n                                    ],\n                                    [\n                                        \"WebKit built-in PDF\",\n                                        \"Portable Document Format\",\n                                        [\n                                            [\n                                                \"application/pdf\",\n                                                \"pdf\"\n                                            ],\n                                            [\n                                                \"text/pdf\",\n                                                \"pdf\"\n                                            ]\n                                        ]\n                                    ]\n                                ], // plugins\n                                \"13ab\": \"mTUAAAAASUVORK5CYII=\", // canvas fingerprint\n                                \"bfe9\": \"aTot0S1jJ7Ws0JC6QkvAL/A4H1PbV+/QA3AAAAAElFTkSuQmCC\", // webgl_str\n                                \"a3c1\": [\n                                    \"extensions:ANGLE_instanced_arrays;EXT_blend_minmax;EXT_color_buffer_half_float;EXT_disjoint_timer_query;EXT_float_blend;EXT_frag_depth;EXT_shader_texture_lod;EXT_texture_compression_bptc;EXT_texture_compression_rgtc;EXT_texture_filter_anisotropic;EXT_sRGB;KHR_parallel_shader_compile;OES_element_index_uint;OES_fbo_render_mipmap;OES_standard_derivatives;OES_texture_float;OES_texture_float_linear;OES_texture_half_float;OES_texture_half_float_linear;OES_vertex_array_object;WEBGL_color_buffer_float;WEBGL_compressed_texture_s3tc;WEBGL_compressed_texture_s3tc_srgb;WEBGL_debug_renderer_info;WEBGL_debug_shaders;WEBGL_depth_texture;WEBGL_draw_buffers;WEBGL_lose_context;WEBGL_multi_draw\",\n                                    \"webgl aliased line width range:[1, 1]\",\n                                    \"webgl aliased point size range:[1, 1024]\",\n                                    \"webgl alpha bits:8\",\n                                    \"webgl antialiasing:yes\",\n                                    \"webgl blue bits:8\",\n                                    \"webgl depth bits:24\",\n                                    \"webgl green bits:8\",\n                                    \"webgl max anisotropy:16\",\n                                    \"webgl max combined texture image units:32\",\n                                    \"webgl max cube map texture size:16384\",\n                                    \"webgl max fragment uniform vectors:1024\",\n                                    \"webgl max render buffer size:16384\",\n                                    \"webgl max texture image units:16\",\n                                    \"webgl max texture size:16384\",\n                                    \"webgl max varying vectors:30\",\n                                    \"webgl max vertex attribs:16\",\n                                    \"webgl max vertex texture image units:16\",\n                                    \"webgl max vertex uniform vectors:4095\",\n                                    \"webgl max viewport dims:[32767, 32767]\",\n                                    \"webgl red bits:8\",\n                                    \"webgl renderer:WebKit WebGL\",\n                                    \"webgl shading language version:WebGL GLSL ES 1.0 (OpenGL ES GLSL ES 1.0 Chromium)\",\n                                    \"webgl stencil bits:0\",\n                                    \"webgl vendor:WebKit\",\n                                    \"webgl version:WebGL 1.0 (OpenGL ES 2.0 Chromium)\",\n                                    \"webgl unmasked vendor:Google Inc. (NVIDIA) #X3fQVPgERx\",\n                                    \"webgl unmasked renderer:ANGLE (NVIDIA, NVIDIA GeForce RTX 3060 Laptop GPU (0x00002560) Direct3D11 vs_5_0 ps_5_0, D3D11) #X3fQVPgERx\",\n                                    \"webgl vertex shader high float precision:23\",\n                                    \"webgl vertex shader high float precision rangeMin:127\",\n                                    \"webgl vertex shader high float precision rangeMax:127\",\n                                    \"webgl vertex shader medium float precision:23\",\n                                    \"webgl vertex shader medium float precision rangeMin:127\",\n                                    \"webgl vertex shader medium float precision rangeMax:127\",\n                                    \"webgl vertex shader low float precision:23\",\n                                    \"webgl vertex shader low float precision rangeMin:127\",\n                                    \"webgl vertex shader low float precision rangeMax:127\",\n                                    \"webgl fragment shader high float precision:23\",\n                                    \"webgl fragment shader high float precision rangeMin:127\",\n                                    \"webgl fragment shader high float precision rangeMax:127\",\n                                    \"webgl fragment shader medium float precision:23\",\n                                    \"webgl fragment shader medium float precision rangeMin:127\",\n                                    \"webgl fragment shader medium float precision rangeMax:127\",\n                                    \"webgl fragment shader low float precision:23\",\n                                    \"webgl fragment shader low float precision rangeMin:127\",\n                                    \"webgl fragment shader low float precision rangeMax:127\",\n                                    \"webgl vertex shader high int precision:0\",\n                                    \"webgl vertex shader high int precision rangeMin:31\",\n                                    \"webgl vertex shader high int precision rangeMax:30\",\n                                    \"webgl vertex shader medium int precision:0\",\n                                    \"webgl vertex shader medium int precision rangeMin:31\",\n                                    \"webgl vertex shader medium int precision rangeMax:30\",\n                                    \"webgl vertex shader low int precision:0\",\n                                    \"webgl vertex shader low int precision rangeMin:31\",\n                                    \"webgl vertex shader low int precision rangeMax:30\",\n                                    \"webgl fragment shader high int precision:0\",\n                                    \"webgl fragment shader high int precision rangeMin:31\",\n                                    \"webgl fragment shader high int precision rangeMax:30\",\n                                    \"webgl fragment shader medium int precision:0\",\n                                    \"webgl fragment shader medium int precision rangeMin:31\",\n                                    \"webgl fragment shader medium int precision rangeMax:30\",\n                                    \"webgl fragment shader low int precision:0\",\n                                    \"webgl fragment shader low int precision rangeMin:31\",\n                                    \"webgl fragment shader low int precision rangeMax:30\"\n                                ], // webgl_params, cab be set to [] if webgl is not supported\n                                \"6bc5\": \"Google Inc. (NVIDIA) #X3fQVPgERx~ANGLE (NVIDIA, NVIDIA GeForce RTX 3060 Laptop GPU (0x00002560) Direct3D11 vs_5_0 ps_5_0, D3D11) #X3fQVPgERx\", // webglVendorAndRenderer\n                                \"ed31\": 0, // hasLiedLanguages\n                                \"72bd\": 0, // hasLiedOs\n                                \"097b\": 0, // hasLiedBrowser\n                                \"52cd\": [\n                                    0, // void 0 !== navigator.maxTouchPoints ? t = navigator.maxTouchPoints : void 0 !== navigator.msMaxTouchPoints && (t = navigator.msMaxTouchPoints);\n                                    0, // document.createEvent(\"TouchEvent\"), if succeed 1 else 0\n                                    0 // \"ontouchstart\" in window ? 1 : 0\n                                ], // touch support\n                                \"a658\": [\n                                    \"Arial\",\n                                    \"Arial Black\",\n                                    \"Arial Narrow\",\n                                    \"Book Antiqua\",\n                                    \"Bookman Old Style\",\n                                    \"Calibri\",\n                                    \"Cambria\",\n                                    \"Cambria Math\",\n                                    \"Century\",\n                                    \"Century Gothic\",\n                                    \"Century Schoolbook\",\n                                    \"Comic Sans MS\",\n                                    \"Consolas\",\n                                    \"Courier\",\n                                    \"Courier New\",\n                                    \"Georgia\",\n                                    \"Helvetica\",\n                                    \"Helvetica Neue\",\n                                    \"Impact\",\n                                    \"Lucida Bright\",\n                                    \"Lucida Calligraphy\",\n                                    \"Lucida Console\",\n                                    \"Lucida Fax\",\n                                    \"Lucida Handwriting\",\n                                    \"Lucida Sans\",\n                                    \"Lucida Sans Typewriter\",\n                                    \"Lucida Sans Unicode\",\n                                    \"Microsoft Sans Serif\",\n                                    \"Monotype Corsiva\",\n                                    \"MS Gothic\",\n                                    \"MS PGothic\",\n                                    \"MS Reference Sans Serif\",\n                                    \"MS Sans Serif\",\n                                    \"MS Serif\",\n                                    \"Palatino Linotype\",\n                                    \"Segoe Print\",\n                                    \"Segoe Script\",\n                                    \"Segoe UI\",\n                                    \"Segoe UI Light\",\n                                    \"Segoe UI Semibold\",\n                                    \"Segoe UI Symbol\",\n                                    \"Tahoma\",\n                                    \"Times\",\n                                    \"Times New Roman\",\n                                    \"Trebuchet MS\",\n                                    \"Verdana\",\n                                    \"Wingdings\",\n                                    \"Wingdings 2\",\n                                    \"Wingdings 3\"\n                                ], // font details. see https://github.com/fingerprintjs/fingerprintjs for implementation details\n                                \"d02f\": \"124.04347527516074\" // audio fingerprint. see https://github.com/fingerprintjs/fingerprintjs for implementation details\n                            },\n                            \"54ef\": \"{\\\"b_ut\\\":\\\"7\\\",\\\"home_version\\\":\\\"V8\\\",\\\"i-wanna-go-back\\\":\\\"-1\\\",\\\"in_new_ab\\\":true,\\\"ab_version\\\":{\\\"for_ai_home_version\\\":\\\"V8\\\",\\\"tianma_banner_inline\\\":\\\"CONTROL\\\",\\\"enable_web_push\\\":\\\"DISABLE\\\"},\\\"ab_split_num\\\":{\\\"for_ai_home_version\\\":54,\\\"tianma_banner_inline\\\":54,\\\"enable_web_push\\\":10}}\", // abtest info, embedded in html\n                            \"8b94\": \"\", // refer_url, document.referrer ? encodeURIComponent(document.referrer).substr(0, 1e3) : \"\"\n                            // \"df35\": this.BilibiliAccountData?._uuid, // _uuid, set from cookie, generated by client side(algorithm remains unknown)\n                            \"07a4\": \"zh-CN\", // language\n                            \"5f45\": null, // laboratory, set from cookie, null if empty, source remains unknown\n                            \"db46\": 0 // is_selfdef, default 0\n                        };\n                        param = new URLSearchParams({\n                            payload: JSON.stringify(payload)\n                        });\n                        return [4 /*yield*/, this.sendPost(url, param, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log('Warn:', response.statusText);\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    // async GenerateCrorrespondPath(timestamp: number)\n    // {\n    //     const publicKeyData = {\n    //         kty: \"RSA\",\n    //         n: \"y4HdjgJHBlbaBN04VERG4qNBIFHP6a3GozCl75AihQloSWCXC5HDNgyinEnhaQ_4-gaMud_GF50elYXLlCToR9se9Z8z433U3KjM-3Yx7ptKkmQNAMggQwAVKgq3zYAoidNEWuxpkY_mAitTSRLnsJW-NCTa0bqBFF6Wm1MxgfE\",\n    //         e: \"AQAB\",\n    //     };\n    //     const publicKey = await crypto.webcrypto.subtle.importKey(\n    //         \"jwk\",\n    //         publicKeyData,\n    //         { name: \"RSA-OAEP\", hash: \"SHA-256\" },\n    //         true,\n    //         [\"encrypt\"]\n    //     );\n    //     const data = new TextEncoder().encode(`refresh_${timestamp}`);\n    //     const encrypted = new Uint8Array(await crypto.webcrypto.subtle.encrypt({ name: \"RSA-OAEP\" }, publicKey, data));\n    //     return encrypted.reduce((str, c) => str + c.toString(16).padStart(2, \"0\"), \"\");\n    // }\n    // public async getrefresh_csfr(correspondPath: string, biliBiliSessData: string)\n    // {\n    //     const url = `https://www.bilibili.com/correspond/1/${correspondPath}`;\n    //     const headers = this.returnBilibiliHeaders(biliBiliSessData);\n    //     const response = await this.sendGet(url, new URLSearchParams(''), headers);\n    //     if (response.ok)\n    //     {\n    //         const htmlContent = await response.text();\n    //         const dom = new JSDOM(htmlContent);\n    //         const refreshCsrf: string = dom.window.document.querySelector('[id=\"1-name\"]').textContent;\n    //         return refreshCsrf;\n    //     } else\n    //     {\n    //         console.log('Warn:', response.statusText);\n    //         return null;\n    //     }\n    // }\n    /**\n     * 刷新并且获取cookie\n     * @param csrf CSRF Token, 位于 Cookie 中的bili_jct字段\n     * @param refresh_csrf 实时刷新口令，通过getrefresh_csfr 获得\n     * @param refresh_token 持久化刷新口令，在localStorage 中的ac_time_value字段\n     * @param biliBiliSessData SESSDATA\n     * @returns\n     */\n    // public async refreshCookie(csrf: string, refresh_csrf: string, refresh_token: string, biliBiliSessData: string)\n    // {\n    //     const url = 'https://passport.bilibili.com/x/passport-login/web/cookie/refresh';\n    //     const data = new URLSearchParams({\n    //         csrf: csrf,\n    //         refresh_csrf: refresh_csrf,\n    //         source: 'main_web',\n    //         refresh_token: refresh_token\n    //     });\n    //     const headers = this.returnBilibiliHeaders(biliBiliSessData);\n    //     const response = await this.sendPost(url, data, headers);\n    //     if (response.ok)\n    //     {\n    //         const data: RefreshCookiedata = await response.json();\n    //         const cookies = response.headers.get('set-cookie');\n    //         if (!cookies) throw new Error('GetRefreshCookie: 获取的cookie为空');\n    //         // 将字符串按逗号分隔成数组\n    //         const cookieArray = cookies.split(', ');\n    //         // 创建一个空对象来存储重组后的 cookie\n    //         const parsedCookies: { [key: string]: string; } = {};\n    //         // 遍历数组，解析每个 cookie 并存储到对象中\n    //         cookieArray.forEach(cookie =>\n    //         {\n    //             const cookieParts = cookie.split(';')[0].split('=');\n    //             const key = cookieParts[0];\n    //             const value = cookieParts[1];\n    //             parsedCookies[key] = value;\n    //         });\n    //         console.log(parsedCookies);\n    //         parsedCookies['refresh_token'] = data.data.refresh_token;\n    //         return parsedCookies;\n    //     } else\n    //     {\n    //         console.log('Warn:', response.statusText);\n    //         return null;\n    //     }\n    // }\n    // public async confirmRefreshCookie(csrf: string, refresh_token: string, biliBiliSessData: string)\n    // {\n    //     const url = 'https://passport.bilibili.com/x/passport-login/web/confirm/refresh';\n    //     const headers = this.returnBilibiliHeaders(biliBiliSessData);\n    //     const data = new URLSearchParams({\n    //         csrf: csrf,\n    //         refresh_token: refresh_token\n    //     });\n    //     data.append('csrf', csrf);\n    //     data.append('refresh_token', refresh_token);\n    //     const response = await this.sendPost(url, data, headers);\n    //     if (response.ok)\n    //     {\n    //         const responseData: RefreshCookiedata = await response.json();\n    //         return responseData;\n    //     } else\n    //     {\n    //         console.log('Warn:', response.statusText);\n    //         return null;\n    //     }\n    // }\n    BiliBiliLoginApi.prototype.getNavUserData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"\".concat(this.cors, \"https://api.bilibili.com/x/web-interface/nav\");\n                        headers = this.returnBilibiliHeaders();\n                        return [4 /*yield*/, this.sendGet(url, new URLSearchParams(''), headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log('Warn:', response.statusText);\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    return BiliBiliLoginApi;\n}(__1.SendFetch));\nexports.BiliBiliLoginApi = BiliBiliLoginApi;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Api/BilibiliAPI/LoginAPI/index.ts?");

/***/ }),

/***/ "./src/Api/NeteaseAPI/Crypto/index.ts":
/*!********************************************!*\
  !*** ./src/Api/NeteaseAPI/Crypto/index.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.d = void 0;\nvar crypto_js_1 = __importDefault(__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'crypto-js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())));\nvar maxDigits, ZERO_ARRAY, bigZero, bigOne, dpl10, lr10, biRadixBase = 2, biRadixBits = 16, bitsPerDigit = biRadixBits, biRadix = 65536, biHalfRadix = biRadix >>> 1, biRadixSquared = biRadix * biRadix, maxDigitVal = biRadix - 1, maxInteger = 9999999999999998;\nvar highBitMasks = new Array(0, 32768, 49152, 57344, 61440, 63488, 64512, 65024, 65280, 65408, 65472, 65504, 65520, 65528, 65532, 65534, 65535);\nvar hexToChar = new Array(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\");\nvar lowBitMasks = new Array(0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535);\nvar hexatrigesimalToChar = new Array(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\");\nvar iv = crypto_js_1.default.enc.Utf8.parse('0102030405060708');\nvar presetKey = crypto_js_1.default.enc.Utf8.parse('0CoJUm6Qyw8W8jud');\nvar base62 = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\nvar linuxapiKey = crypto_js_1.default.enc.Utf8.parse('rFgB&h#%2?^eDg:Q');\nvar publicKey = \"\\n-----BEGIN PUBLIC KEY-----\\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDgtQn2JZ34ZC28NWYpAUd98iZ37BUrX/aKzmFbt7clFSs6sXqHauqKWqdtLkF2KexO40H1YTX8z2lSgBBOAxLsvaklV8k4cBFK9snQXE9/DDaFt6Rr7iVZMldczhC0JNgTz+SHXT6CBHuX3e9SdB1Ua44oncaTWz7OBGLbCiK45wIDAQAB\\n-----END PUBLIC KEY-----\\n\";\nvar eapiKey = 'e82ckenh8dichen8';\nfunction a(a) {\n    var d, e, b = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", c = \"\";\n    for (d = 0; a > d; d += 1)\n        e = Math.random() * b.length,\n            e = Math.floor(e),\n            c += b.charAt(e);\n    return c;\n}\nfunction b(a, b) {\n    var c = crypto_js_1.default.enc.Utf8.parse(b), d = crypto_js_1.default.enc.Utf8.parse(\"0102030405060708\"), e = crypto_js_1.default.enc.Utf8.parse(a), f = crypto_js_1.default.AES.encrypt(e, c, {\n        iv: d,\n        mode: crypto_js_1.default.mode.CBC\n    });\n    return f.toString();\n}\nfunction c(a, b, c) {\n    var d, e;\n    return setMaxDigits(131),\n        d = new RSAKeyPair(b, \"\", c),\n        e = encryptedString(d, a);\n}\n/**\n * weapi\n * @param param\n * @param e\n * @param f\n * @param g\n * @returns\n */\nfunction d(param, e, f, g) {\n    if (e === void 0) { e = '010001'; }\n    if (f === void 0) { f = \"00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7\"; }\n    if (g === void 0) { g = \"0CoJUm6Qyw8W8jud\"; }\n    var d = JSON.stringify(param);\n    var h = {\n        encText: '',\n        encSecKey: ''\n    }, i = a(16);\n    return h.encText = b(d, g),\n        h.encText = b(h.encText, i),\n        h.encSecKey = c(i, e, f),\n        h;\n}\nexports.d = d;\nvar RSAKeyPair = /** @class */ (function () {\n    function RSAKeyPair(a, b, c) {\n        this.e = this.biFromHex(a),\n            this.d = this.biFromHex(b),\n            this.m = this.biFromHex(c),\n            this.chunkSize = 2 * biHighIndex(this.m),\n            this.radix = 16,\n            this.barrett = new BarrettMu(this.m);\n    }\n    RSAKeyPair.prototype.biFromHex = function (a) {\n        var d, e, b = new BigInt(), c = a.length;\n        for (d = c, e = 0; d > 0; d -= 4, ++e)\n            if (b.digits)\n                b.digits[e] = this.hexToDigit(a.substr(Math.max(d - 4, 0), Math.min(d, 4)));\n        return b;\n    };\n    RSAKeyPair.prototype.hexToDigit = function (a) {\n        var d, b = 0, c = Math.min(a.length, 4);\n        for (d = 0; c > d; ++d)\n            b <<= 4,\n                b |= this.charToHex(a.charCodeAt(d));\n        return b;\n    };\n    RSAKeyPair.prototype.charToHex = function (a) {\n        var h, b = 48, c = b + 9, d = 97, e = d + 25, f = 65, g = 90;\n        return h = a >= b && c >= a ? a - b : a >= f && g >= a ? 10 + a - f : a >= d && e >= a ? 10 + a - d : 0;\n    };\n    return RSAKeyPair;\n}());\nvar BigInt = /** @class */ (function () {\n    function BigInt(a) {\n        if (a === void 0) { a = undefined; }\n        var ZERO_ARRAY = new Array(131).fill(0);\n        this.digits = typeof a === 'boolean' && a === true ? [1] : ZERO_ARRAY.slice(0); // [1] original null\n        this.isNeg = false;\n    }\n    return BigInt;\n}());\nvar BarrettMu = /** @class */ (function () {\n    function BarrettMu(a) {\n        this.modulus = biCopy(a),\n            this.k = biHighIndex(this.modulus) + 1;\n        var b = new BigInt;\n        b.digits[2 * this.k] = 1,\n            this.mu = this.biDivide(b, this.modulus),\n            this.bkplus1 = new BigInt,\n            this.bkplus1.digits[this.k + 1] = 1,\n            this.modulo = this.BarrettMu_modulo,\n            this.multiplyMod = this.BarrettMu_multiplyMod,\n            this.powMod = this.BarrettMu_powMod;\n    }\n    BarrettMu.prototype.BarrettMu_modulo = function (a) {\n        var i, b = this.biDivideByRadixPower(a, this.k - 1), c = this.biMultiply(b, this.mu), d = this.biDivideByRadixPower(c, this.k + 1), e = this.biModuloByRadixPower(a, this.k + 1), f = this.biMultiply(d, this.modulus), g = this.biModuloByRadixPower(f, this.k + 1), h = biSubtract(e, g);\n        for (h.isNeg && (h = biAdd(h, this.bkplus1)),\n            i = biCompare(h, this.modulus) >= 0; i;)\n            h = biSubtract(h, this.modulus),\n                i = biCompare(h, this.modulus) >= 0;\n        return h;\n    };\n    BarrettMu.prototype.BarrettMu_multiplyMod = function (a, b) {\n        var c = this.biMultiply(a, b);\n        return this.modulo(c);\n    };\n    BarrettMu.prototype.BarrettMu_powMod = function (a, b) {\n        var d, e, c = new BigInt;\n        for (c.digits[0] = 1,\n            d = a,\n            e = b;;) {\n            if (0 != (1 & e.digits[0]) && (c = this.multiplyMod(c, d)),\n                e = biShiftRight(e, 1),\n                0 == e.digits[0] && 0 == biHighIndex(e))\n                break;\n            d = this.multiplyMod(d, d);\n        }\n        return c;\n    };\n    BarrettMu.prototype.biModuloByRadixPower = function (a, b) {\n        var c = new BigInt;\n        return arrayCopy(a.digits, 0, c.digits, 0, b),\n            c;\n    };\n    BarrettMu.prototype.biMultiply = function (a, b) {\n        var d, h, i, k, c = new BigInt, e = biHighIndex(a), f = biHighIndex(b);\n        var j;\n        for (k = 0; f >= k; ++k) {\n            for (d = 0,\n                i = k,\n                j = 0; e >= j; ++j,\n                ++i)\n                h = c.digits[i] + a.digits[j] * b.digits[k] + d,\n                    c.digits[i] = h & maxDigitVal,\n                    d = h >>> biRadixBits;\n            c.digits[k + e + 1] = d;\n        }\n        return c.isNeg = a.isNeg != b.isNeg,\n            c;\n    };\n    BarrettMu.prototype.biDivideByRadixPower = function (a, b) {\n        var c = new BigInt;\n        return arrayCopy(a.digits, b, c.digits, 0, c.digits.length - b),\n            c;\n    };\n    BarrettMu.prototype.biDivide = function (a, b) {\n        return biDivideModulo(a, b)[0];\n    };\n    return BarrettMu;\n}());\nfunction setMaxDigits(a) {\n    maxDigits = a,\n        ZERO_ARRAY = new Array(maxDigits);\n    for (var b = 0; b < ZERO_ARRAY.length; b++)\n        ZERO_ARRAY[b] = 0;\n    bigZero = new BigInt,\n        bigOne = new BigInt,\n        bigOne.digits[0] = 1;\n}\nfunction biHighIndex(a) {\n    if (a.digits) {\n        for (var b = a.digits.length - 1; b > 0 && 0 == a.digits[b];)\n            --b;\n        return b;\n    }\n    else {\n        return 0;\n    }\n}\n/** */\nfunction biDivideModulo(a, b) {\n    var f, g, h, i, j, k, l, m, n, o, p, q, r, s, c = biNumBits(a), d = biNumBits(b), e = b.isNeg;\n    if (d > c)\n        return a.isNeg ? (f = biCopy(bigOne),\n            f.isNeg = !b.isNeg,\n            a.isNeg = !1,\n            b.isNeg = !1,\n            g = biSubtract(b, a),\n            a.isNeg = !0,\n            b.isNeg = e) : (f = new BigInt,\n            g = biCopy(a)),\n            new Array(f, g);\n    for (f = new BigInt,\n        g = a,\n        h = Math.ceil(d / bitsPerDigit) - 1,\n        i = 0; b.digits[h] < biHalfRadix;)\n        b = biShiftLeft(b, 1),\n            ++i,\n            ++d,\n            h = Math.ceil(d / bitsPerDigit) - 1;\n    for (g = biShiftLeft(g, i),\n        c += i,\n        j = Math.ceil(c / bitsPerDigit) - 1,\n        k = biMultiplyByRadixPower(b, j - h); -1 != biCompare(g, k);)\n        ++f.digits[j - h],\n            g = biSubtract(g, k);\n    for (l = j; l > h; --l) {\n        for (m = l >= g.digits.length ? 0 : g.digits[l],\n            n = l - 1 >= g.digits.length ? 0 : g.digits[l - 1],\n            o = l - 2 >= g.digits.length ? 0 : g.digits[l - 2],\n            p = h >= b.digits.length ? 0 : b.digits[h],\n            q = h - 1 >= b.digits.length ? 0 : b.digits[h - 1],\n            f.digits[l - h - 1] = m == p ? maxDigitVal : Math.floor((m * biRadix + n) / p),\n            r = f.digits[l - h - 1] * (p * biRadix + q),\n            s = m * biRadixSquared + (n * biRadix + o); r > s;)\n            --f.digits[l - h - 1],\n                r = f.digits[l - h - 1] * (p * biRadix | q),\n                s = m * biRadix * biRadix + (n * biRadix + o);\n        k = biMultiplyByRadixPower(b, l - h - 1),\n            g = biSubtract(g, biMultiplyDigit(k, f.digits[l - h - 1])),\n            g.isNeg && (g = biAdd(g, k),\n                --f.digits[l - h - 1]);\n    }\n    return g = biShiftRight(g, i),\n        f.isNeg = a.isNeg != e,\n        a.isNeg && (f = e ? biAdd(f, bigOne) : biSubtract(f, bigOne),\n            b = biShiftRight(b, i),\n            g = biSubtract(b, g)),\n        0 == g.digits[0] && 0 == biHighIndex(g) && (g.isNeg = !1),\n        new Array(f, g);\n}\nfunction biNumBits(a) {\n    var e, b = biHighIndex(a), c = a.digits[b], d = (b + 1) * bitsPerDigit;\n    for (e = d; e > d - bitsPerDigit && 0 == (32768 & c); --e)\n        c <<= 1;\n    return e;\n}\nfunction biCopy(a) {\n    var b = new BigInt(!0);\n    return b.digits = a.digits.slice(0),\n        b.isNeg = a.isNeg,\n        b;\n}\nfunction biSubtract(a, b) {\n    var c, d, e, f;\n    if (a.isNeg != b.isNeg)\n        b.isNeg = !b.isNeg,\n            c = biAdd(a, b),\n            b.isNeg = !b.isNeg;\n    else {\n        for (c = new BigInt,\n            e = 0,\n            f = 0; f < a.digits.length; ++f)\n            d = a.digits[f] - b.digits[f] + e,\n                c.digits[f] = 65535 & d,\n                c.digits[f] < 0 && (c.digits[f] += biRadix),\n                e = 0 - Number(0 > d);\n        if (-1 == e) {\n            for (e = 0,\n                f = 0; f < a.digits.length; ++f)\n                d = 0 - c.digits[f] + e,\n                    c.digits[f] = 65535 & d,\n                    c.digits[f] < 0 && (c.digits[f] += biRadix),\n                    e = 0 - Number(0 > d);\n            c.isNeg = !a.isNeg;\n        }\n        else\n            c.isNeg = a.isNeg;\n    }\n    return c;\n}\nfunction biAdd(a, b) {\n    var c, d, e, f;\n    if (a.isNeg != b.isNeg)\n        b.isNeg = !b.isNeg,\n            c = biSubtract(a, b),\n            b.isNeg = !b.isNeg;\n    else {\n        for (c = new BigInt,\n            d = 0,\n            f = 0; f < a.digits.length; ++f)\n            e = a.digits[f] + b.digits[f] + d,\n                c.digits[f] = 65535 & e,\n                d = Number(e >= biRadix);\n        c.isNeg = a.isNeg;\n    }\n    return c;\n}\nfunction biShiftRight(a, b) {\n    var e, f, g, h, c = Math.floor(b / bitsPerDigit), d = new BigInt;\n    for (arrayCopy(a.digits, c, d.digits, 0, a.digits.length - c),\n        e = b % bitsPerDigit,\n        f = bitsPerDigit - e,\n        g = 0,\n        h = g + 1; g < d.digits.length - 1; ++g,\n        ++h)\n        d.digits[g] = d.digits[g] >>> e | (d.digits[h] & lowBitMasks[e]) << f;\n    return d.digits[d.digits.length - 1] >>>= e,\n        d.isNeg = a.isNeg,\n        d;\n}\nfunction biMultiplyByRadixPower(a, b) {\n    var c = new BigInt;\n    return arrayCopy(a.digits, 0, c.digits, b, c.digits.length - b),\n        c;\n}\nfunction arrayCopy(a, b, c, d, e) {\n    var g, h, f = Math.min(b + e, a.length);\n    for (g = b,\n        h = d; f > g; ++g,\n        ++h)\n        c[h] = a[g];\n}\nfunction biMultiplyDigit(a, b) {\n    var c, d, e, f;\n    var result;\n    for (result = new BigInt,\n        c = biHighIndex(a),\n        d = 0,\n        f = 0; c >= f; ++f)\n        e = result.digits[f] + a.digits[f] * b + d,\n            result.digits[f] = e & maxDigitVal,\n            d = e >>> biRadixBits;\n    return result.digits[1 + c] = d,\n        result;\n} // 不确定对不对\nfunction biShiftLeft(a, b) {\n    var e, f, g, h, c = Math.floor(b / bitsPerDigit), d = new BigInt;\n    for (arrayCopy(a.digits, 0, d.digits, c, d.digits.length - c),\n        e = b % bitsPerDigit,\n        f = bitsPerDigit - e,\n        g = d.digits.length - 1,\n        h = g - 1; g > 0; --g,\n        --h)\n        d.digits[g] = d.digits[g] << e & maxDigitVal | (d.digits[h] & highBitMasks[e]) >>> f;\n    return d.digits[0] = d.digits[g] << e & maxDigitVal,\n        d.isNeg = a.isNeg,\n        d;\n}\nfunction biCompare(a, b) {\n    if (a.isNeg != b.isNeg)\n        return 1 - 2 * Number(a.isNeg);\n    for (var c = a.digits.length - 1; c >= 0; --c)\n        if (a.digits[c] != b.digits[c])\n            return a.isNeg ? 1 - 2 * Number(a.digits[c] > b.digits[c]) : 1 - 2 * Number(a.digits[c] < b.digits[c]);\n    return 0;\n}\nfunction reverseStr(a) {\n    var c, b = \"\";\n    for (c = a.length - 1; c > -1; --c)\n        b += a.charAt(c);\n    return b;\n}\nfunction encryptedString(a, b) {\n    function digitToHex(a) {\n        var b = 15, c = \"\";\n        var i;\n        for (i = 0; 4 > i; ++i)\n            c += hexToChar[a & b],\n                a >>>= 4;\n        return reverseStr(c);\n    }\n    function biToHex(a) {\n        var d, b = \"\";\n        for (biHighIndex(a),\n            d = biHighIndex(a); d > -1; --d)\n            b += digitToHex(a.digits[d]);\n        return b;\n    }\n    function biToString(a, b) {\n        var d, e, c = new BigInt;\n        var digit;\n        for (c.digits[0] = b,\n            d = biDivideModulo(a, c),\n            e = hexatrigesimalToChar[d[1].digits[0]]; 1 == biCompare(d[0], bigZero);)\n            d = biDivideModulo(d[0], c),\n                digit = d[1].digits[0],\n                e += hexatrigesimalToChar[d[1].digits[0]];\n        return (a.isNeg ? \"-\" : \"\") + reverseStr(e);\n    }\n    /* 取明文的ascii码到c数组 */\n    for (var f, g, h, i, j, k, l, c = [], d = b.length, e = 0; d > e;) {\n        c[e] = b.charCodeAt(e);\n        e++;\n    }\n    /* 补0到a.chunkSize，经调试，achunkSize为常量126 */\n    for (; 0 !== c.length % a.chunkSize;) {\n        c[e++] = 0;\n    }\n    /* 外层for循环其实只会被执行一次 */\n    for (f = c.length, g = \"\", e = 0; f > e; e += a.chunkSize) {\n        /* 大整数 */\n        for (j = new BigInt, h = 0, i = e; i < e + a.chunkSize; ++h) {\n            j.digits[h] = c[i++];\n            j.digits[h] += c[i++] << 8;\n        }\n        k = a.barrett.powMod(j, a.e);\n        l = 16 === a.radix ? biToHex(k) : biToString(k, a.radix);\n        g += l + \" \";\n    }\n    return g.substring(0, g.length - 1);\n}\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Api/NeteaseAPI/Crypto/index.ts?");

/***/ }),

/***/ "./src/Api/NeteaseAPI/NeteaseMusic/index.ts":
/*!**************************************************!*\
  !*** ./src/Api/NeteaseAPI/NeteaseMusic/index.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.NeteaseMusicAPI = void 0;\nvar index_1 = __webpack_require__(/*! ../../index */ \"./src/Api/index.ts\");\nvar NeteaseMusicAPI = /** @class */ (function (_super) {\n    __extends(NeteaseMusicAPI, _super);\n    function NeteaseMusicAPI() {\n        var _this = _super.apply(this, __spreadArray([], __read(arguments), false)) || this;\n        _this.imoeGetSongResource = function (id) { return __awaiter(_this, void 0, void 0, function () {\n            var createSign, _a, sign, time, resp, metadata, error_1;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        createSign = function (id) { return __awaiter(_this, void 0, void 0, function () {\n                            var token, time, text, hash, hex;\n                            return __generator(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0:\n                                        token = '2126696677';\n                                        time = Date.now();\n                                        text = \"\".concat(id, \".metadata.\").concat(time, \"|\").concat(token);\n                                        return [4 /*yield*/, crypto.subtle.digest(\"SHA-256\", new TextEncoder().encode(text))];\n                                    case 1:\n                                        hash = _a.sent();\n                                        hex = Array.from(new Uint8Array(hash)).map(function (b) { return b.toString(16).padStart(2, '0'); }).join('');\n                                        return [2 /*return*/, {\n                                                sign: hex,\n                                                time: time\n                                            }];\n                                }\n                            });\n                        }); };\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 5, , 6]);\n                        return [4 /*yield*/, createSign(id)];\n                    case 2:\n                        _a = _b.sent(), sign = _a.sign, time = _a.time;\n                        return [4 /*yield*/, fetch(\"https://ifs.imoe.xyz/api/v1/163?id=\".concat(id, \"&type=metadata&time=\").concat(time, \"&sign=\").concat(sign))];\n                    case 3:\n                        resp = _b.sent();\n                        return [4 /*yield*/, resp.json()];\n                    case 4:\n                        metadata = _b.sent();\n                        metadata.url += \"#.mp3\";\n                        metadata.time += 6000;\n                        return [2 /*return*/, metadata];\n                    case 5:\n                        error_1 = _b.sent();\n                        console.error(error_1);\n                        return [2 /*return*/, null];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        }); };\n        return _this;\n    }\n    NeteaseMusicAPI.prototype.getSongListDetail = function (id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"\".concat(this.cors, \"https://music.163.com/api/v6/playlist/detail\");\n                        params = new URLSearchParams({\n                            id: id.toString(),\n                            n: '100000',\n                            s: '8'\n                        });\n                        headers = new Headers();\n                        headers.append('Referer', 'https://music.163.com/');\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3: return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    NeteaseMusicAPI.prototype.getNeteaseSongDetail = function (id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = new URL(\"\".concat(this.cors, \"http://music.163.com/api/song/detail\"));\n                        params = new URLSearchParams({\n                            id: id.toString(),\n                            ids: \"[\".concat(id, \"]\")\n                        });\n                        url.search = new URLSearchParams(params).toString();\n                        headers = this.returnNeteaseHeaders();\n                        return [4 /*yield*/, this.sendGet(url.toString(), params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3: return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    NeteaseMusicAPI.prototype.getNeteaseSongDetailFromXC = function (id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = new URL(\"https://xc.null.red:8043/api/netease/song/detail\");\n                        params = new URLSearchParams({\n                            ids: id.toString(),\n                        });\n                        headers = new Headers();\n                        headers.append('Referer', 'https://music.163.com/');\n                        return [4 /*yield*/, this.sendGet(url.toString(), params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        // console.log(data?.songs?.[0].name)\n                        return [2 /*return*/, data];\n                    case 3: return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    NeteaseMusicAPI.prototype.getNeteaseSongListDetailFromXC = function (id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, headers, response, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"https://xc.null.red:8043/api/netease/playlist/detail\";\n                        params = new URLSearchParams({\n                            id: id.toString(),\n                        });\n                        headers = this.returnNeteaseHeaders();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3: return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     *\n     * @param id\n     * @param level standard 标准品质-128k higher 较高品质-192k exhigh 极高品质-320k lossless 无损品质 hires hires品质 jyeffect 高清环绕声 sky 沉浸环绕声 jymaster 超清母带\n     * @returns\n     */\n    NeteaseMusicAPI.prototype.getSongResource = function (id_1) {\n        return __awaiter(this, arguments, void 0, function (id, level, type) {\n            var url, params, headers, response, data;\n            if (level === void 0) { level = 'exhigh'; }\n            if (type === void 0) { type = 302; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = new URL(\"https://xc.null.red:8043/meting-api/\");\n                        params = new URLSearchParams({\n                            id: id.toString(),\n                        });\n                        level && params.append('level', level);\n                        type && params.append('type', type.toString());\n                        headers = new Headers();\n                        headers.append('Referer', 'https://music.163.com/');\n                        return [4 /*yield*/, this.sendGet(url.toString(), params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        console.log(data);\n                        return [2 /*return*/, data];\n                    case 3: return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    NeteaseMusicAPI.prototype.getLyric = function (id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, params, headers, response, lyric;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"\".concat(this.cors, \"https://music.163.com/api/song/lyric\");\n                        params = new URLSearchParams({\n                            id: id.toString(),\n                            tv: '-1',\n                            lv: '-1',\n                            kv: '-1',\n                            rv: '-1'\n                        });\n                        headers = new Headers();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        lyric = _a.sent();\n                        return [2 /*return*/, lyric];\n                    case 3: return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    return NeteaseMusicAPI;\n}(index_1.SendFetch));\nexports.NeteaseMusicAPI = NeteaseMusicAPI;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Api/NeteaseAPI/NeteaseMusic/index.ts?");

/***/ }),

/***/ "./src/Api/NeteaseAPI/NeteaseSearch/index.ts":
/*!***************************************************!*\
  !*** ./src/Api/NeteaseAPI/NeteaseSearch/index.ts ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.NeteaseSearchAPI = void 0;\nvar index_1 = __webpack_require__(/*! ../../index */ \"./src/Api/index.ts\");\nvar index_2 = __webpack_require__(/*! ../NeteaseMusic/index */ \"./src/Api/NeteaseAPI/NeteaseMusic/index.ts\");\nvar Crypto_1 = __webpack_require__(/*! ../Crypto */ \"./src/Api/NeteaseAPI/Crypto/index.ts\");\nvar NeteaseSearchAPI = /** @class */ (function (_super) {\n    __extends(NeteaseSearchAPI, _super);\n    function NeteaseSearchAPI() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 获取网易云主页推荐歌单\n     * @returns\n     */\n    NeteaseSearchAPI.prototype.NeteaseRecommandPlayList = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, headers, response, data, parser, htmlDoc, uCovers, extractedData, neteaseMusic, uCoversArray, _loop_1, uCoversArray_1, uCoversArray_1_1, uCover, state_1;\n            var e_1, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        url = \"\".concat(this.cors, \"https://music.163.com/discover\");\n                        headers = this.returnNeteaseHeaders();\n                        return [4 /*yield*/, this.sendGet(url, new URLSearchParams(), headers)];\n                    case 1:\n                        response = _b.sent();\n                        if (!(response && response.ok)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.text()];\n                    case 2:\n                        data = _b.sent();\n                        parser = new DOMParser();\n                        htmlDoc = parser.parseFromString(data, 'text/html');\n                        uCovers = htmlDoc.querySelectorAll('.u-cover');\n                        extractedData = [];\n                        neteaseMusic = new index_2.NeteaseMusicAPI();\n                        uCoversArray = Array.from(uCovers);\n                        _loop_1 = function (uCover) {\n                            var img = uCover.querySelector('img');\n                            var aElement = uCover.querySelector('a');\n                            if (aElement && (img === null || img === void 0 ? void 0 : img.src)) {\n                                if (aElement.href.includes('/playlist')) {\n                                    var imageUrl = new URL(img.src);\n                                    imageUrl.search = '';\n                                    var title = aElement.title;\n                                    var href = aElement.href;\n                                    var urlParams = new URLSearchParams(href.split('?')[1]);\n                                    var id = urlParams.get('id');\n                                    var songDetail_1 = neteaseMusic.getSongListDetail(Number(id));\n                                    if (!songDetail_1)\n                                        return { value: null };\n                                    var item = {\n                                        id: parseInt(id || '') || 0,\n                                        title: title,\n                                        img: imageUrl.toString(),\n                                        url: href,\n                                        author: new Promise(function (resolve, reject) {\n                                            // 处理 songDetail 的 Promise\n                                            songDetail_1.then(function (detail) {\n                                                if (detail && detail.playlist && detail.playlist.creator) {\n                                                    resolve(detail.playlist.creator.nickname);\n                                                }\n                                                else {\n                                                    resolve('无法获取'); // 默认值\n                                                }\n                                            }).catch(function (error) {\n                                                console.error('Error fetching song detail:', error);\n                                                reject(error);\n                                            });\n                                        }),\n                                        duration: '歌单'\n                                    };\n                                    extractedData.push(item);\n                                }\n                            }\n                        };\n                        try {\n                            for (uCoversArray_1 = __values(uCoversArray), uCoversArray_1_1 = uCoversArray_1.next(); !uCoversArray_1_1.done; uCoversArray_1_1 = uCoversArray_1.next()) {\n                                uCover = uCoversArray_1_1.value;\n                                state_1 = _loop_1(uCover);\n                                if (typeof state_1 === \"object\")\n                                    return [2 /*return*/, state_1.value];\n                            }\n                        }\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                        finally {\n                            try {\n                                if (uCoversArray_1_1 && !uCoversArray_1_1.done && (_a = uCoversArray_1.return)) _a.call(uCoversArray_1);\n                            }\n                            finally { if (e_1) throw e_1.error; }\n                        }\n                        // console.log(data)\n                        return [2 /*return*/, extractedData];\n                    case 3: return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    /**\n     * 获取网易云搜索数据\n     * @param keyWord\n     * @param limit\n     * @returns\n     */\n    NeteaseSearchAPI.prototype.getNeteaseMusicSearchData = function (keyWord_1) {\n        return __awaiter(this, arguments, void 0, function (keyWord, limit) {\n            var url, params, headers, we, enc, encparams, response, data;\n            if (limit === void 0) { limit = 100; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"\".concat(this.cors, \"https://music.163.com/weapi/search/get\");\n                        params = {\n                            s: keyWord, // 关键词\n                            type: \"1\", // 1: 单曲, 10: 专辑, 100: 歌手, 1000: 歌单, 1002: 用户, 1004: MV, 1006: 歌词, 1009: 电台, 1014: 视频\n                            limit: limit, // 返回歌曲数量\n                            offset: \"0\", // 偏移量\n                        };\n                        headers = new Headers();\n                        we = (0, Crypto_1.d)(params);\n                        enc = {\n                            params: we.encText,\n                            encSecKey: we.encSecKey\n                        };\n                        encparams = new URLSearchParams(enc);\n                        headers.append('content-type', 'application/x-www-form-urlencoded');\n                        return [4 /*yield*/, this.sendPost(url, encparams, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!(response && response.ok)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        console.log(data);\n                        return [2 /*return*/, data];\n                    case 3:\n                        console.log(response.status, response.statusText);\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    NeteaseSearchAPI.prototype.getNeteaseRecommandPlayListXC = function () {\n        return __awaiter(this, arguments, void 0, function (limit) {\n            var url, params, headers, response, data;\n            if (limit === void 0) { limit = 30; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"https://xc.null.red:8043/api/netease/personalized\";\n                        params = new URLSearchParams();\n                        params.append('limit', limit.toString());\n                        headers = new Headers();\n                        return [4 /*yield*/, this.sendGet(url, params, headers)];\n                    case 1:\n                        response = _a.sent();\n                        if (!(response && response.ok)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        data = _a.sent();\n                        return [2 /*return*/, data];\n                    case 3: return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    return NeteaseSearchAPI;\n}(index_1.SendFetch));\nexports.NeteaseSearchAPI = NeteaseSearchAPI;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Api/NeteaseAPI/NeteaseSearch/index.ts?");

/***/ }),

/***/ "./src/Api/index.ts":
/*!**************************!*\
  !*** ./src/Api/index.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SendFetch = void 0;\nvar GetBiliBili_1 = __webpack_require__(/*! ../Account/GetBiliBili */ \"./src/Account/GetBiliBili.ts\");\nvar ShowMessage_1 = __webpack_require__(/*! ../UpdateDOM/ShowMessage */ \"./src/UpdateDOM/ShowMessage.ts\");\nvar SendFetch = /** @class */ (function () {\n    // public cors = `https://cors-anywhere-cors-dzgtzfcdbk.ap-southeast-3.fcapp.run/`\n    function SendFetch() {\n        this.cors = \"https://cors-anywhere-iirose-uest-web-gjtxhfvear.cn-beijing.fcapp.run/\";\n        if (window.iirosemedia && window.iirosemedia.cors !== undefined) {\n            this.cors = window.iirosemedia.cors;\n        }\n    }\n    SendFetch.prototype.sendGet = function (url, params, headers) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fullUrl, response, showmessage;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (window.iirosemedia && window.iirosemedia.cors !== undefined) {\n                            if (headers.get('cookie-trans')) {\n                                headers.append('cookie', headers.get('cookie-trans'));\n                            }\n                        }\n                        fullUrl = \"\".concat(url, \"?\").concat(params.toString());\n                        return [4 /*yield*/, fetch(fullUrl, {\n                                method: 'GET',\n                                headers: headers,\n                            })];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) {\n                            showmessage = new ShowMessage_1.showMessage();\n                            showmessage.showMessage(\"GET\\u8BF7\\u6C42\\u5931\\u8D25\\uFF0Curl: \".concat(url, \" \\u72B6\\u6001\\u7801\\uFF1A\").concat(response.status, \", \\u4FE1\\u606F\\uFF1A\").concat(response.statusText, \", Cookie: \").concat(headers.get('cookie-trans'), \", params: \").concat(params.toString()));\n                        }\n                        return [2 /*return*/, response];\n                }\n            });\n        });\n    };\n    SendFetch.prototype.sendGetXHR = function (url, params, headers) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fullUrl;\n            return __generator(this, function (_a) {\n                fullUrl = \"\".concat(url, \"?\").concat(params.toString());\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        var xhr = new XMLHttpRequest();\n                        xhr.open('GET', fullUrl, true);\n                        xhr.setRequestHeader('Origin', ''); // 设置 Origin 为空\n                        xhr.onreadystatechange = function () {\n                            if (xhr.readyState === XMLHttpRequest.DONE) {\n                                if (xhr.status === 200) {\n                                    // 请求成功，将响应返回\n                                    resolve(xhr.responseText);\n                                }\n                                else {\n                                    // 请求失败，返回错误信息\n                                    reject(new Error(\"Request failed with status: \".concat(xhr.status)));\n                                }\n                            }\n                        };\n                        xhr.send();\n                    })];\n            });\n        });\n    };\n    SendFetch.prototype.sendPost = function (url, params, headers) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, showmessage;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (window.iirosemedia && window.iirosemedia.cors !== undefined) {\n                            if (headers.get('cookie-trans')) {\n                                headers.append('cookie', headers.get('cookie-trans'));\n                            }\n                        }\n                        return [4 /*yield*/, fetch(url, {\n                                method: 'POST',\n                                headers: headers,\n                                body: params\n                            })];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) {\n                            showmessage = new ShowMessage_1.showMessage();\n                            showmessage.showMessage(\"POST\\u8BF7\\u6C42\\u5931\\u8D25\\uFF0Curl: \".concat(url, \" \\u72B6\\u6001\\u7801\\uFF1A\").concat(response.status, \", \\u4FE1\\u606F\\uFF1A\").concat(response.statusText, \", Cookie: \").concat(headers.get('cookie-trans'), \", params: \").concat(params.toString()));\n                        }\n                        return [2 /*return*/, response];\n                }\n            });\n        });\n    };\n    SendFetch.prototype.returnNeteaseHeaders = function () {\n        var headers = new Headers();\n        headers.append('User-Agent', 'Mozilla/5.0 (Linux; U; Android 8.1.0; zh-cn; BKK-AL10 Build/HONORBKK-AL10) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/10.6 Mobile Safari/537.36');\n        // headers.append('Content-Type', 'application/x-www-form-urlencoded');\n        headers.append('Referer', 'https://music.163.com');\n        // headers.append('X-Real-IP', '::1');\n        // headers.append('X-Forwarded-For', '::1');\n        // headers.append('Cookie', 'osver=undefined; deviceId=undefined; appver=8.9.70; versioncode=140; mobilename=undefined; buildver=1697745346; resolution=1920x1080; __csrf=; os=android; channel=undefined; requestId=1697745346367_0886; MUSIC_A=1f5fa7b6a6a9f81a11886e5186fde7fb0b63372bce7ff361fa5cb1a86d5fbbbbadd2bc8204eeee5e04bf7bf7e7f4428eeb3a754c1a3a779110722d253c67f6e9fac900d7a89533ee3324751bcc9aaf44c3061cd18d77b7a0');\n        return headers;\n    };\n    SendFetch.prototype.returnBilibiliHeaders = function () {\n        var headers = new Headers();\n        headers.set('referer', 'https://www.bilibili.com');\n        headers.set('User-Agent', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36');\n        return headers;\n    };\n    SendFetch.prototype.returnBiliBiliHeadersBuvidOnly = function () {\n        var headers = new Headers();\n        var bilibiliAccount = new GetBiliBili_1.GetBiliBiliAccount();\n        var account = bilibiliAccount.getBiliBiliAccount();\n        if (account) {\n            headers.append('cookie-trans', \"buvid3=\".concat(account.buvid3, \"; buvid4=\").concat(account.buvid4, \";\"));\n        }\n        else {\n            headers.append('cookie-trans', \"buvid3=1; buvid4=2;\");\n        }\n        headers.set('referer', 'https://www.bilibili.com');\n        headers.set('User-Agent', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36');\n        return headers;\n    };\n    SendFetch.prototype.returnCommonHeaders = function () {\n        var headers = new Headers();\n        return headers;\n    };\n    return SendFetch;\n}());\nexports.SendFetch = SendFetch;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Api/index.ts?");

/***/ }),

/***/ "./src/Env/index.ts":
/*!**************************!*\
  !*** ./src/Env/index.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ENV = void 0;\nvar Api_1 = __webpack_require__(/*! ../Api */ \"./src/Api/index.ts\");\nvar ENV = /** @class */ (function () {\n    function ENV() {\n    }\n    ENV.prototype.setEnv = function () {\n        window.iirosemedia = {};\n        this.setBilibiliRcmdVideo();\n        this.setCors();\n    };\n    ENV.prototype.setCors = function () {\n        var ua = navigator.userAgent;\n        var device = window.device;\n        if (device === 7) {\n            if (window.iirosemedia)\n                window.iirosemedia.cors = \"\";\n            return;\n        }\n        if (ua.includes('IIROSE')) {\n            if (window.iirosemedia)\n                window.iirosemedia.cors = \"\";\n            return;\n        }\n        else {\n            this.selectCorsBySpeed();\n        }\n    };\n    ENV.prototype.selectCorsBySpeed = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var corss, sendFetch, requestTimes, corss_1, corss_1_1, cors, startTime, endTime, elapsedTime, error_1, e_1_1, fastestCors;\n            var e_1, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!window.iirosemedia)\n                            return [2 /*return*/];\n                        corss = ['https://cors-anywhere-cors-dzgtzfcdbk.ap-southeast-3.fcapp.run/', 'https://cors-anywhere-iirose-uest-web-gjtxhfvear.cn-beijing.fcapp.run/'];\n                        sendFetch = new Api_1.SendFetch();\n                        requestTimes = [];\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 8, 9, 10]);\n                        corss_1 = __values(corss), corss_1_1 = corss_1.next();\n                        _b.label = 2;\n                    case 2:\n                        if (!!corss_1_1.done) return [3 /*break*/, 7];\n                        cors = corss_1_1.value;\n                        _b.label = 3;\n                    case 3:\n                        _b.trys.push([3, 5, , 6]);\n                        startTime = performance.now();\n                        return [4 /*yield*/, sendFetch.sendGet(cors, new URLSearchParams(), new Headers())];\n                    case 4:\n                        _b.sent();\n                        endTime = performance.now();\n                        elapsedTime = endTime - startTime;\n                        requestTimes.push({ cors: cors, time: elapsedTime }); // 存储请求时间\n                        return [3 /*break*/, 6];\n                    case 5:\n                        error_1 = _b.sent();\n                        console.error('请求出错:', error_1);\n                        return [3 /*break*/, 6];\n                    case 6:\n                        corss_1_1 = corss_1.next();\n                        return [3 /*break*/, 2];\n                    case 7: return [3 /*break*/, 10];\n                    case 8:\n                        e_1_1 = _b.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 10];\n                    case 9:\n                        try {\n                            if (corss_1_1 && !corss_1_1.done && (_a = corss_1.return)) _a.call(corss_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                        return [7 /*endfinally*/];\n                    case 10:\n                        // 根据时间排序，找到最快的 CORS 代理\n                        requestTimes.sort(function (a, b) { return a.time - b.time; });\n                        fastestCors = requestTimes[0].cors;\n                        window.iirosemedia.cors = fastestCors;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ENV.prototype.setBilibiliRcmdVideo = function () {\n        window.bilibili = {\n            rcmdVideo: {\n                fresh_idx_1h: 1,\n                fresh_idx: 1,\n                brush: 0\n            }\n        };\n    };\n    return ENV;\n}());\nexports.ENV = ENV;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Env/index.ts?");

/***/ }),

/***/ "./src/HotKey/index.ts":
/*!*****************************!*\
  !*** ./src/HotKey/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HotKey = void 0;\nvar index_1 = __webpack_require__(/*! ../UpdateDOM/index */ \"./src/UpdateDOM/index.ts\");\nvar HotKey = /** @class */ (function () {\n    function HotKey() {\n        this.startY = 0;\n        this.KeyBoardCallApp = this.KeyBoardCallApp.bind(this);\n        window.addEventListener(\"keydown\", this.KeyBoardCallApp);\n        window.addEventListener(\"touchstart\", this.handleTouchStart);\n        window.addEventListener(\"touchmove\", this.handleTouchMove);\n    }\n    HotKey.prototype.handleTouchStart = function (event) {\n        if (event.touches.length === 2) {\n            this.startY = event.touches[0].clientY;\n        }\n    };\n    HotKey.prototype.handleTouchMove = function (event) {\n        if (event.touches.length === 2) {\n            if (this.startY === 0)\n                return;\n            var deltaY = event.touches[0].clientY - this.startY;\n            var screenHeight = window.innerHeight;\n            var threshold = screenHeight / 3;\n            if (deltaY > threshold) {\n                this.startY = 0;\n                event.preventDefault();\n                event.stopPropagation();\n                event.stopImmediatePropagation();\n                var UpdateDOM = new index_1.UpdateDom();\n                UpdateDOM.changeStatusIIROSE_MEDIA();\n            }\n        }\n    };\n    HotKey.prototype.KeyBoardCallApp = function (event) {\n        // 检查是否按下 Alt 键同时按下了 S 键，macos 下的 S 键是 ß 键\n        if ((event.altKey && event.key === 's') || (event.altKey && event.key === 'ß')) {\n            event.preventDefault();\n            event.stopPropagation();\n            event.stopImmediatePropagation();\n            var focusedElement = document.activeElement;\n            if (focusedElement && focusedElement.tagName === 'TEXTAREA') {\n                focusedElement.blur();\n            }\n            var UpdateDOM = new index_1.UpdateDom();\n            UpdateDOM.changeStatusIIROSE_MEDIA();\n        }\n    };\n    // 清除事件监听器\n    HotKey.prototype.destroy = function () {\n        window.removeEventListener(\"keydown\", this.KeyBoardCallApp);\n        // window.removeEventListener(\"touchstart\", this.touchScreen);\n    };\n    return HotKey;\n}());\nexports.HotKey = HotKey;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/HotKey/index.ts?");

/***/ }),

/***/ "./src/IIROSE-MEDIA/IIROSE_MEDIAInput.ts":
/*!***********************************************!*\
  !*** ./src/IIROSE-MEDIA/IIROSE_MEDIAInput.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IIROSE_MEDIAInput = void 0;\nvar IIROSE_MEDIAInput = /** @class */ (function () {\n    function IIROSE_MEDIAInput() {\n        var _this = this;\n        this.inputEvent = null;\n        this.handleEnterKey = function (event) {\n            var _a;\n            if (event.key === 'Enter') {\n                (_a = _this.inputEvent) === null || _a === void 0 ? void 0 : _a.InputAreaConfirmBtnOnClick();\n                _this.hideIIROSE_MEDIAInput();\n            }\n        };\n    }\n    IIROSE_MEDIAInput.prototype.createIIROSE_MEDIAInput = function () {\n        var _this = this;\n        function createInputBoxTitle() {\n            var inputBoxTitleWrapper = document.createElement('div');\n            inputBoxTitleWrapper.classList.add('inputBoxTitleWrapper');\n            var inputBoxTitleLogo = document.createElement('div');\n            inputBoxTitleLogo.classList.add('inputBoxTitleLogo');\n            var inputBoxTitle = document.createElement('div');\n            inputBoxTitle.classList.add('inputBoxTitle');\n            inputBoxTitle.innerHTML = '标题';\n            inputBoxTitleWrapper.appendChild(inputBoxTitleLogo);\n            inputBoxTitleWrapper.appendChild(inputBoxTitle);\n            return inputBoxTitleWrapper;\n        }\n        function createInputArea() {\n            var inputArea = document.createElement('div');\n            var inputPlace = document.createElement('input');\n            inputArea.classList.add('inputArea');\n            inputArea.id = 'inputArea';\n            inputPlace.classList.add('inputPlace');\n            inputPlace.id = 'inputPlace';\n            inputPlace.autocomplete = 'off';\n            inputPlace.placeholder = '请输入内容...';\n            inputArea.appendChild(inputPlace);\n            return inputArea;\n        }\n        function setMetaHeight(height) {\n            var meta = document.head.querySelector('meta[name=\"viewport\"]');\n            if (meta) {\n                meta.setAttribute('id', 'viewportMeta');\n                var metaEl = document.getElementById('#viewportMeta');\n                console.log(meta);\n                console.log(metaEl);\n            }\n        }\n        var createButton = function () {\n            var buttonWrapper = document.createElement('div');\n            buttonWrapper.classList.add('IIROSE_MEDIA_ButtonWrapper');\n            var cancelButtonWrapper = document.createElement('div');\n            cancelButtonWrapper.classList.add('IIROSE_MEDIA_ButtonItemWrapper');\n            cancelButtonWrapper.id = 'IIROSE_MEDIA_cancelButtonWrapper';\n            var cancelIcon = document.createElement('div');\n            cancelIcon.classList.add('IIROSE_MEDIA_cancelIcon');\n            var cancelButton = document.createElement('div');\n            cancelButton.classList.add('IIROSE_MEDIA_Button');\n            cancelButton.innerHTML = '取消';\n            var confirmButtonWrapper = document.createElement('div');\n            confirmButtonWrapper.classList.add('IIROSE_MEDIA_ButtonItemWrapper');\n            confirmButtonWrapper.id = 'IIROSE_MEDIA_confirmButtonWrapper';\n            var confirmIcon = document.createElement('div');\n            confirmIcon.classList.add('IIROSE_MEDIA_confirmIcon');\n            var confirmButton = document.createElement('div');\n            confirmButton.classList.add('IIROSE_MEDIA_Button');\n            confirmButton.innerHTML = '确定';\n            cancelButtonWrapper.onclick = _this.hideIIROSE_MEDIAInput;\n            confirmButtonWrapper.onclick = _this.hideIIROSE_MEDIAInput;\n            cancelButtonWrapper.appendChild(cancelIcon);\n            cancelButtonWrapper.appendChild(cancelButton);\n            confirmButtonWrapper.appendChild(confirmIcon);\n            confirmButtonWrapper.appendChild(confirmButton);\n            buttonWrapper.appendChild(cancelButtonWrapper);\n            buttonWrapper.appendChild(confirmButtonWrapper);\n            return buttonWrapper;\n        };\n        var IIROSE_MEDIAInput = document.createElement('div');\n        IIROSE_MEDIAInput.id = 'IIROSE_MEDIAInput';\n        IIROSE_MEDIAInput.classList.add('IIROSE_MEDIAInput');\n        var inputBoxWrapper = document.createElement('div');\n        inputBoxWrapper.classList.add('inputBoxWrapper');\n        IIROSE_MEDIAInput.onclick = function (event) {\n            if (event.target === IIROSE_MEDIAInput) {\n                _this.hideIIROSE_MEDIAInput();\n            }\n        };\n        inputBoxWrapper.appendChild(createInputBoxTitle());\n        inputBoxWrapper.appendChild(createInputArea());\n        inputBoxWrapper.appendChild(createButton());\n        IIROSE_MEDIAInput.appendChild(inputBoxWrapper);\n        return IIROSE_MEDIAInput;\n    };\n    IIROSE_MEDIAInput.prototype.hideIIROSE_MEDIAInput = function () {\n        var IIROSE_MEDIAInput = document.getElementById('IIROSE_MEDIAInput');\n        var cancelButtonWrapper = document.getElementById('IIROSE_MEDIA_cancelButtonWrapper');\n        var confirmButtonWrapper = document.getElementById('IIROSE_MEDIA_confirmButtonWrapper');\n        if (IIROSE_MEDIAInput) {\n            IIROSE_MEDIAInput.style.opacity = '0';\n            window.addEventListener('transitionend', function () {\n                IIROSE_MEDIAInput.style.zIndex = '-1';\n            }, { once: true });\n            // 清除 inputEvent\n            // this.cleanupInputEvent();\n        }\n    };\n    IIROSE_MEDIAInput.prototype.showIIROSE_MEDIAInput = function (inputEvent) {\n        var _this = this;\n        this.inputEvent = inputEvent;\n        var IIROSE_MEDIAInput = document.getElementById('IIROSE_MEDIAInput');\n        if (IIROSE_MEDIAInput) {\n            IIROSE_MEDIAInput.style.zIndex = '99999';\n            setTimeout(function () {\n                IIROSE_MEDIAInput.style.opacity = '1';\n            }, 1);\n        }\n        var inputplace = document.getElementById('inputPlace');\n        if (inputplace) {\n            inputplace.value = '';\n        }\n        var inputBoxTitle = document.querySelector('.inputBoxTitle');\n        if (inputBoxTitle) {\n            inputBoxTitle.innerHTML = inputEvent.title;\n        }\n        var inputArea = document.getElementById('inputArea');\n        inputArea.addEventListener('keydown', function (event) {\n            var _a;\n            if (event.key === 'Enter') {\n                (_a = _this.inputEvent) === null || _a === void 0 ? void 0 : _a.InputAreaConfirmBtnOnClick();\n                _this.hideIIROSE_MEDIAInput();\n            }\n        });\n        var IIROSE_MEDIA_confirmButtonWrapper = document.getElementById('IIROSE_MEDIA_confirmButtonWrapper');\n        if (IIROSE_MEDIA_confirmButtonWrapper) {\n            IIROSE_MEDIA_confirmButtonWrapper.onclick = function () {\n                var _a;\n                (_a = _this.inputEvent) === null || _a === void 0 ? void 0 : _a.InputAreaConfirmBtnOnClick();\n                _this.hideIIROSE_MEDIAInput();\n            };\n        }\n    };\n    IIROSE_MEDIAInput.prototype.cleanupInputEvent = function () {\n        // 清除 inputEvent\n        this.inputEvent = null;\n        // 移除事件监听器\n        var inputArea = document.getElementById('inputArea');\n        if (inputArea) {\n            inputArea.removeEventListener('keydown', this.handleEnterKey);\n        }\n    };\n    return IIROSE_MEDIAInput;\n}());\nexports.IIROSE_MEDIAInput = IIROSE_MEDIAInput;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/IIROSE-MEDIA/IIROSE_MEDIAInput.ts?");

/***/ }),

/***/ "./src/IIROSE-MEDIA/IIROSE_MEDIASelectHolder.ts":
/*!******************************************************!*\
  !*** ./src/IIROSE-MEDIA/IIROSE_MEDIASelectHolder.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IIROSE_MEDIASelectHolder = void 0;\nvar UpdateDOM_1 = __webpack_require__(/*! ../UpdateDOM */ \"./src/UpdateDOM/index.ts\");\nvar IIROSE_MEDIASelectHolder = /** @class */ (function () {\n    function IIROSE_MEDIASelectHolder() {\n    }\n    IIROSE_MEDIASelectHolder.prototype.createIIROSE_MEDIASelectHolder = function () {\n        var _this = this;\n        var IIROSE_MEDIASelectHolder = document.createElement('div');\n        IIROSE_MEDIASelectHolder.classList.add('IIROSE_MEDIASelectHolder');\n        IIROSE_MEDIASelectHolder.id = 'IIROSE_MEDIASelectHolder';\n        IIROSE_MEDIASelectHolder.onclick = function () {\n            IIROSE_MEDIASelectHolder.style.opacity = '0';\n            IIROSE_MEDIASelectHolder.addEventListener('transitionend', function () {\n                IIROSE_MEDIASelectHolder.style.zIndex = '-1';\n            }, { once: true });\n        };\n        var IIROSE_MEDIASelectHolderWrapper = document.createElement('div');\n        IIROSE_MEDIASelectHolderWrapper.classList.add('IIROSE_MEDIASelectHolderWrapper');\n        var item = [{\n                id: 'sequence',\n                title: '正序点播',\n                onclick: function () { }\n            }, {\n                id: 'random',\n                title: '乱序点播',\n                onclick: function () { }\n            }];\n        item.forEach(function (element) {\n            var SelectHolderItem = _this.createIIROSE_MEDIASelectHolderItem(element, IIROSE_MEDIASelectHolder);\n            IIROSE_MEDIASelectHolderWrapper.appendChild(SelectHolderItem);\n        });\n        IIROSE_MEDIASelectHolder.appendChild(IIROSE_MEDIASelectHolderWrapper);\n        return IIROSE_MEDIASelectHolder;\n    };\n    IIROSE_MEDIASelectHolder.prototype.showIIROSE_MEDIASelectHolder = function (item) {\n        var IIROSE_MEDIASelectHolder = document.getElementById('IIROSE_MEDIASelectHolder');\n        if (IIROSE_MEDIASelectHolder) {\n            IIROSE_MEDIASelectHolder.style.zIndex = '99999';\n            setTimeout(function () {\n                IIROSE_MEDIASelectHolder.style.opacity = '1';\n            }, 10);\n            var IIROSE_MEDIASelectHolderItemWrapper = document.querySelectorAll('.IIROSE_MEDIASelectHolderItemWrapper');\n            IIROSE_MEDIASelectHolderItemWrapper.forEach(function (element, index) {\n                if (item[index].id === element.id) {\n                    element.onclick = function () {\n                        item[index].onclick();\n                        IIROSE_MEDIASelectHolder.style.opacity = '0';\n                        IIROSE_MEDIASelectHolder.addEventListener('transitionend', function () {\n                            IIROSE_MEDIASelectHolder.style.zIndex = '-1';\n                            var updateDOM = new UpdateDOM_1.UpdateDom();\n                            updateDOM.changeStatusIIROSE_MEDIA();\n                        }, { once: true });\n                    };\n                }\n            });\n        }\n    };\n    IIROSE_MEDIASelectHolder.prototype.createIIROSE_MEDIASelectHolderItem = function (item, IIROSE_MEDIASelectHolder) {\n        var IIROSE_MEDIASelectHolderItemWrapper = document.createElement('div');\n        IIROSE_MEDIASelectHolderItemWrapper.classList.add('IIROSE_MEDIASelectHolderItemWrapper');\n        IIROSE_MEDIASelectHolderItemWrapper.id = item.id;\n        var IIROSE_MEDIASelectHolderItemLogo = document.createElement('div');\n        IIROSE_MEDIASelectHolderItemLogo.classList.add('IIROSE_MEDIASelectHolderItemLogo');\n        IIROSE_MEDIASelectHolderItemLogo.id = item.id;\n        var IIROSE_MEDIASelectHolderItem = document.createElement('div');\n        IIROSE_MEDIASelectHolderItem.classList.add('IIROSE_MEDIASelectHolderItem');\n        IIROSE_MEDIASelectHolderItem.innerText = item.title;\n        IIROSE_MEDIASelectHolderItemWrapper.onclick = function () {\n            item.onclick();\n            var updateDOM = new UpdateDOM_1.UpdateDom();\n            updateDOM.changeStatusIIROSE_MEDIA();\n            IIROSE_MEDIASelectHolder.style.opacity = '0';\n            IIROSE_MEDIASelectHolder.addEventListener('transitionend', function () {\n                IIROSE_MEDIASelectHolder.style.zIndex = '-1';\n            }, { once: true });\n        };\n        IIROSE_MEDIASelectHolderItemWrapper.appendChild(IIROSE_MEDIASelectHolderItemLogo);\n        IIROSE_MEDIASelectHolderItemWrapper.appendChild(IIROSE_MEDIASelectHolderItem);\n        return IIROSE_MEDIASelectHolderItemWrapper;\n    };\n    return IIROSE_MEDIASelectHolder;\n}());\nexports.IIROSE_MEDIASelectHolder = IIROSE_MEDIASelectHolder;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/IIROSE-MEDIA/IIROSE_MEDIASelectHolder.ts?");

/***/ }),

/***/ "./src/IIROSE-MEDIA/MediaContainer.ts":
/*!********************************************!*\
  !*** ./src/IIROSE-MEDIA/MediaContainer.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MediaContainer = void 0;\nvar Music_1 = __webpack_require__(/*! ../Platform/Music */ \"./src/Platform/Music.ts\");\nvar Video_1 = __webpack_require__(/*! ../Platform/Video */ \"./src/Platform/Video.ts\");\nvar IIROSE_MEDIAInput_1 = __webpack_require__(/*! ./IIROSE_MEDIAInput */ \"./src/IIROSE-MEDIA/IIROSE_MEDIAInput.ts\");\n// import { noloadGifBase64 } from \"../ImageTools/Gif\";\nvar MediaContainer = /** @class */ (function () {\n    function MediaContainer() {\n    }\n    MediaContainer.prototype.createMediaCOntainer = function (platforms, mediaContainerID) {\n        var MediaContainer = document.createElement('div');\n        MediaContainer.id = mediaContainerID;\n        MediaContainer.classList.add('MediaContainer');\n        var MediaSearchBar = this.createMediaSearchBar(platforms[0].inputEvent, platforms[0].buttonBackgroundColor);\n        MediaContainer.appendChild(MediaSearchBar);\n        var mediaContainerNavBar = this.createMediaContainerNavBar(platforms);\n        MediaContainer.appendChild(mediaContainerNavBar);\n        var mediaContainerSubNavBar = this.createMediaContainerSubNavBar(platforms);\n        MediaContainer.appendChild(mediaContainerSubNavBar);\n        var mediaContainerContent = this.createMediaContainerContent(platforms[0].subNavBarItems[0].item, platforms[0].buttonBackgroundColor);\n        MediaContainer.appendChild(mediaContainerContent);\n        return MediaContainer;\n    };\n    MediaContainer.prototype.createMediaContainerNavBar = function (platforms) {\n        var PlatFormSelector = document.createElement('div');\n        PlatFormSelector.classList.add('PlatformSelector');\n        platforms.forEach(function (platform, index) {\n            var PlatformButton = document.createElement('div');\n            PlatformButton.classList.add('PlatformButton');\n            PlatformButton.id = \"\".concat(platform.id, \"Button\");\n            PlatformButton.style.backgroundColor = platform.buttonBackgroundColor;\n            var PlatformIcon = document.createElement('img');\n            PlatformIcon.classList.add('PlatformIcon');\n            PlatformIcon.id = \"\".concat(platform.id, \"Icon\");\n            PlatformIcon.src = platform.iconsrc;\n            var PlatformTitle = document.createElement('div');\n            PlatformTitle.classList.add('PlatformTitle');\n            PlatformTitle.innerText = platform.title;\n            PlatformButton.appendChild(PlatformIcon);\n            PlatformButton.appendChild(PlatformTitle);\n            PlatFormSelector.appendChild(PlatformButton);\n            // 判断是否是第一个 platform\n            if (index === 0) {\n                PlatformButton.style.opacity = '1';\n                PlatFormSelector.style.backgroundColor = platform.buttonBackgroundColor;\n            }\n        });\n        return PlatFormSelector;\n    };\n    MediaContainer.prototype.createMediaContainerSubNavBar = function (item) {\n        var MediaContainerSubNavBar = document.createElement('div');\n        MediaContainerSubNavBar.classList.add('MediaContainerSubNavBar');\n        MediaContainerSubNavBar.style.backgroundColor = item[0].buttonBackgroundColor;\n        item[0].subNavBarItems.forEach(function (item, index) {\n            var SubNavBarItem = document.createElement('div');\n            SubNavBarItem.classList.add('SubNavBarItem');\n            if (item.class)\n                SubNavBarItem.classList.add(item.class);\n            SubNavBarItem.id = item.id;\n            SubNavBarItem.innerHTML = item.title;\n            SubNavBarItem.onclick = function () {\n                item.onclick();\n                var parent = SubNavBarItem.parentElement;\n                if (parent) {\n                    var siblings = Array.from(parent.children).filter(function (child) { return child !== SubNavBarItem; });\n                    siblings.forEach(function (sibling) { return sibling.classList.remove('subNavBarItemActive'); });\n                    SubNavBarItem.classList.add('subNavBarItemActive');\n                }\n            };\n            if (index === 0) {\n                SubNavBarItem.classList.add('subNavBarItemActive');\n            }\n            MediaContainerSubNavBar.appendChild(SubNavBarItem);\n        });\n        return MediaContainerSubNavBar;\n    };\n    MediaContainer.prototype.createMediaSearchBar = function (inputEvent, bgColor, id) {\n        function createInput() {\n            var inputWrapper = document.createElement('div');\n            inputWrapper.classList.add('inputWrapper');\n            var inputIcon = document.createElement('div');\n            inputIcon.classList.add('inputIcon');\n            var input = document.createElement('div');\n            input.classList.add('mediaSearchBarInput');\n            input.id = 'mediaSearchBarInput';\n            inputWrapper.onclick = function () {\n                var iiROSE_MEDIAInput = new IIROSE_MEDIAInput_1.IIROSE_MEDIAInput();\n                iiROSE_MEDIAInput.showIIROSE_MEDIAInput(inputEvent);\n            };\n            inputWrapper.appendChild(inputIcon);\n            inputWrapper.appendChild(input);\n            return inputWrapper;\n        }\n        function createPagination() {\n            var paginationWrapper = document.createElement('div');\n            paginationWrapper.classList.add('paginationWrapper');\n            var paginationIcon = document.createElement('div');\n            paginationIcon.classList.add('paginationIcon');\n            var pagination = document.createElement('div');\n            pagination.classList.add('pagination');\n            pagination.innerText = '-/-';\n            paginationWrapper.appendChild(paginationIcon);\n            paginationWrapper.appendChild(pagination);\n            return paginationWrapper;\n        }\n        function createPaginationController() {\n            var controllerWrapper = document.createElement('div');\n            controllerWrapper.classList.add('controllerWrapper');\n            var prevButtonWrapper = document.createElement('div');\n            prevButtonWrapper.classList.add('prevButtonWrapper');\n            prevButtonWrapper.classList.add('PaginationControllerButtonWrapper');\n            prevButtonWrapper.id = 'prevButtonWrapper';\n            var prevIcon = document.createElement('div');\n            prevIcon.classList.add('prevIcon');\n            var prevButton = document.createElement('div');\n            prevButton.classList.add('prevButton');\n            prevButton.classList.add('PaginationControllerButton');\n            prevButton.innerText = '上一页';\n            prevButtonWrapper.appendChild(prevIcon);\n            prevButtonWrapper.appendChild(prevButton);\n            var nextButtonWrapper = document.createElement('div');\n            nextButtonWrapper.classList.add('nextButtonWrapper');\n            nextButtonWrapper.classList.add('PaginationControllerButtonWrapper');\n            nextButtonWrapper.id = 'nextButtonWrapper';\n            var nextIcon = document.createElement('div');\n            nextIcon.classList.add('nextIcon');\n            var nextButton = document.createElement('div');\n            nextButton.classList.add('nextButton');\n            nextButton.classList.add('PaginationControllerButton');\n            nextButton.innerText = '下一页';\n            nextButtonWrapper.appendChild(nextIcon);\n            nextButtonWrapper.appendChild(nextButton);\n            controllerWrapper.appendChild(prevButtonWrapper);\n            controllerWrapper.appendChild(nextButtonWrapper);\n            return controllerWrapper;\n        }\n        var MediaSearchBar = document.createElement('div');\n        MediaSearchBar.classList.add('MediaSearchBar');\n        MediaSearchBar.style.backgroundColor = bgColor;\n        MediaSearchBar.id = id || 'CommonMediaSearchBar';\n        var input = createInput();\n        var pagination = createPagination();\n        var controller = createPaginationController();\n        MediaSearchBar.appendChild(input);\n        MediaSearchBar.appendChild(pagination);\n        MediaSearchBar.appendChild(controller);\n        return MediaSearchBar;\n    };\n    MediaContainer.prototype.createMediaContainerContent = function (ppMediaContainerItems, playColor) {\n        function createContentItem(item) {\n            function setHeightToWidth() {\n                var width = contentImgCover.clientWidth; // 获取元素的实际宽度\n                if (width > 0)\n                    contentImgCover.style.height = width + 'px'; // 设置高度等于宽度的像素值\n            }\n            var observer = new IntersectionObserver(function (entries) {\n                entries.forEach(function (entry) {\n                    if (entry.isIntersecting) {\n                        // 当 contentImgCover 进入视口时调用 setHeightToWidth\n                        requestAnimationFrame(setHeightToWidth);\n                        // 停止观察，因为我们只关心第一次出现在视口中的情况\n                        observer.unobserve(entry.target);\n                    }\n                });\n            });\n            var ContentItem = document.createElement('div');\n            ContentItem.classList.add('ContentItem');\n            var contentImgCover = document.createElement('div');\n            contentImgCover.classList.add('contentImgCover');\n            contentImgCover.onclick = function () { window.open(item.url || ''); };\n            var contentImg = document.createElement('img');\n            contentImg.classList.add('contentImg');\n            observer.observe(contentImgCover);\n            window.addEventListener('resize', setHeightToWidth);\n            // contentImg.src = noloadGifBase64;\n            // const sendfetch = new SendFetch();\n            var headers = new Headers();\n            headers.append('Referer', 'https://music.163.com/');\n            headers.append('User-Agent', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36');\n            // const httpsImgUrl = item.img.replace(/^http:/, 'https:');\n            // sendfetch.sendGet(httpsImgUrl, new URLSearchParams(), headers).then((res) =>\n            // {\n            //     contentImg.src = item.img;\n            // });\n            contentImg.src = item.img;\n            var infoArea = document.createElement('div');\n            infoArea.classList.add('infoArea');\n            var contentAuthor = document.createElement('div');\n            contentAuthor.classList.add('contentAuthor');\n            contentAuthor.innerText = '...';\n            Promise.resolve(item.author).then(function (author) {\n                // 将字符串拆分为单个字符的数组\n                var characters = author.split('');\n                // 初始化一个空字符串用于逐个添加字符\n                var displayedText = '';\n                // 逐个字符添加到 contentAuthor.innerText\n                characters.forEach(function (char, index) {\n                    // 使用 setTimeout 设置延迟\n                    setTimeout(function () {\n                        displayedText += char;\n                        contentAuthor.innerText = displayedText;\n                    }, index * (50)); // 设置延迟的时间间隔，这里是每个字符之间的间隔时间\n                });\n            }).catch(function (error) {\n                console.error('Error fetching author:', error);\n                contentAuthor.innerText = '无法获取'; // 默认值\n            });\n            var contentDuration = document.createElement('div');\n            contentDuration.classList.add('contentDuration');\n            contentDuration.innerText = item.duration;\n            var contentTitle = document.createElement('div');\n            contentTitle.classList.add('contentTitle');\n            contentTitle.innerText = item.title;\n            if (item.duration) {\n                var contentDuration_1 = document.createElement('div');\n                contentDuration_1.classList.add('contentDuration');\n                contentDuration_1.innerText = item.duration;\n            }\n            var contentPlayButton = document.createElement('div');\n            contentPlayButton.classList.add('contentPlayButton');\n            contentPlayButton.onclick = function () {\n                if (item.MediaRequest)\n                    item.MediaRequest();\n            };\n            contentPlayButton.style.color = playColor;\n            var playButtonIcon = document.createElement('div');\n            playButtonIcon.classList.add('playButtonIcon');\n            var playButtonTitle = document.createElement('div');\n            playButtonTitle.classList.add('playButtonTitle');\n            playButtonTitle.innerText = '点播';\n            if (item.multipage) {\n                Promise.resolve(item.multipage).then(function (multipage) {\n                    if (multipage) {\n                        playButtonIcon.classList.remove('playButtonIcon');\n                        playButtonIcon.classList.add('pickButtonIcon');\n                        playButtonTitle.innerText = '';\n                        var index_1 = 0;\n                        var text_1 = '选集';\n                        var interval = 100;\n                        var timer_1 = setInterval(function () {\n                            playButtonTitle.innerText += text_1[index_1];\n                            index_1++;\n                            if (index_1 >= text_1.length) {\n                                clearInterval(timer_1);\n                            }\n                        }, interval);\n                    }\n                });\n            }\n            contentPlayButton.appendChild(playButtonIcon);\n            contentPlayButton.appendChild(playButtonTitle);\n            infoArea.appendChild(contentTitle);\n            infoArea.appendChild(contentAuthor);\n            // infoArea.appendChild(contentDuration);\n            contentImgCover.appendChild(contentImg);\n            contentImgCover.appendChild(contentDuration);\n            ContentItem.appendChild(contentImgCover);\n            ContentItem.appendChild(infoArea);\n            ContentItem.appendChild(contentPlayButton);\n            return ContentItem;\n        }\n        var MediaContainerContent = document.createElement('div');\n        MediaContainerContent.classList.add('MediaContainerContent');\n        MediaContainerContent.id = 'MediaContainerContent';\n        MediaContainerContent.style.height = '100%';\n        var spin = document.createElement('div');\n        spin.classList.add('containerSpin');\n        MediaContainerContent.appendChild(spin);\n        if (!ppMediaContainerItems)\n            return MediaContainerContent;\n        ppMediaContainerItems.then(function (pMediaContainerItem) {\n            if (!pMediaContainerItem)\n                return;\n            pMediaContainerItem.forEach(function (pMediaContainerItem) {\n                pMediaContainerItem.then(function (MediaContainerItem) {\n                    if (spin)\n                        spin.remove();\n                    MediaContainerContent.style.height = '';\n                    if (!MediaContainerItem)\n                        return;\n                    MediaContainerItem.forEach(function (MediaContainerItem) {\n                        var ContentItem = createContentItem(MediaContainerItem);\n                        ContentItem.style.opacity = '0';\n                        MediaContainerContent.appendChild(ContentItem);\n                        setTimeout(function () {\n                            ContentItem.style.opacity = '1';\n                        }, 1);\n                    });\n                });\n            });\n        });\n        return MediaContainerContent;\n    };\n    MediaContainer.prototype.goMultiPage = function (container, mediaItems, rgb) {\n        var _this = this;\n        function createPaginationController() {\n            var multipageControllerWrapper = document.createElement('div');\n            multipageControllerWrapper.classList.add('controllerWrapper');\n            multipageControllerWrapper.classList.add('multipageComponent');\n            var returnButtonWrapper = document.createElement('div');\n            returnButtonWrapper.classList.add('returnButtonWrapper');\n            returnButtonWrapper.classList.add('PaginationControllerButtonWrapper');\n            returnButtonWrapper.id = 'returnButtonWrapper';\n            var returnIcon = document.createElement('div');\n            returnIcon.classList.add('returnIcon');\n            var returnButton = document.createElement('div');\n            returnButton.classList.add('returnButton');\n            returnButton.classList.add('PaginationControllerButton');\n            returnButton.innerText = '返回';\n            returnButtonWrapper.appendChild(returnIcon);\n            returnButtonWrapper.appendChild(returnButton);\n            var prevButtonWrapper = document.createElement('div');\n            prevButtonWrapper.classList.add('prevButtonWrapper');\n            prevButtonWrapper.classList.add('PaginationControllerButtonWrapper');\n            prevButtonWrapper.id = 'prevButtonWrapper';\n            var prevIcon = document.createElement('div');\n            prevIcon.classList.add('prevIcon');\n            var prevButton = document.createElement('div');\n            prevButton.classList.add('prevButton');\n            prevButton.classList.add('PaginationControllerButton');\n            prevButton.innerText = '上一页';\n            prevButtonWrapper.appendChild(prevIcon);\n            prevButtonWrapper.appendChild(prevButton);\n            var nextButtonWrapper = document.createElement('div');\n            nextButtonWrapper.classList.add('nextButtonWrapper');\n            nextButtonWrapper.classList.add('PaginationControllerButtonWrapper');\n            nextButtonWrapper.id = 'nextButtonWrapper';\n            var nextIcon = document.createElement('div');\n            nextIcon.classList.add('nextIcon');\n            var nextButton = document.createElement('div');\n            nextButton.classList.add('nextButton');\n            nextButton.classList.add('PaginationControllerButton');\n            nextButton.innerText = '下一页';\n            nextButtonWrapper.appendChild(nextIcon);\n            nextButtonWrapper.appendChild(nextButton);\n            multipageControllerWrapper.appendChild(returnButtonWrapper);\n            multipageControllerWrapper.appendChild(prevButtonWrapper);\n            multipageControllerWrapper.appendChild(nextButtonWrapper);\n            returnButtonWrapper.onclick = function () {\n                multipageControllerWrapper.style.opacity = '0';\n                paginationTextDiv.textContent = paginationText;\n                multipageControllerWrapper.addEventListener('transitionend', function () {\n                    subNavBarItems.forEach(function (item) {\n                        item.style.display = '';\n                        item.style.opacity = '';\n                    });\n                    subnavbaritemPlaceHolder.remove();\n                    multipageControllerWrapper.remove();\n                    inputWrapper.style.display = '';\n                    controllerWrapper.style.display = '';\n                    inputWrapper.style.opacity = '';\n                    controllerWrapper.style.opacity = '';\n                    subNavBar.style.opacity = '';\n                }, { once: true });\n                var MediaContainerContentCollection = Array.from(document.querySelectorAll('.MediaContainerContent'));\n                // 这里判断如果有一个以上，就是进入分集了\n                if (MediaContainerContentCollection.length > 1) {\n                    var multipageMediaContainerContentI_1 = MediaContainerContentCollection[1];\n                    multipageMediaContainerContentI_1.style.opacity = '0';\n                    multipageMediaContainerContentI_1.addEventListener('transitionend', function () {\n                        multipageMediaContainerContentI_1.remove();\n                        mediaContainerContent.style.display = '';\n                        setTimeout(function () {\n                            mediaContainerContent.style.opacity = '1';\n                        }, 1);\n                    });\n                }\n            };\n            return multipageControllerWrapper;\n        }\n        if (!container)\n            return;\n        var items = Array.from(container.children);\n        var mediasearchBar = items[0];\n        var subNavBar = items[2];\n        var subnavbaritemPlaceHolder = document.createElement('div');\n        var video = new Video_1.Video();\n        subnavbaritemPlaceHolder.classList.add('subNavBarItemPlaceHolder');\n        subNavBar.appendChild(subnavbaritemPlaceHolder);\n        var subNavBarItems = Array.from(subNavBar.children);\n        var mediaContainerContent = items[3];\n        var mediasearchBarSubItem = Array.from(mediasearchBar.children);\n        var inputWrapper = mediasearchBarSubItem[0];\n        var paginationWrapper = mediasearchBarSubItem[1];\n        var paginationTextDiv = paginationWrapper.children[1];\n        var paginationText = paginationTextDiv.innerText;\n        var controllerWrapper = mediasearchBarSubItem[2];\n        inputWrapper.style.opacity = '0';\n        controllerWrapper.style.opacity = '0';\n        mediaContainerContent.style.opacity = '0';\n        var mediacontaineritem = video.bilibiliVideoMediaContainerItemByCids(1, mediaItems);\n        var multipageMediaContainerContent = this.createMediaContainerContent(mediacontaineritem, rgb);\n        subNavBarItems.forEach(function (item) {\n            if (item.classList.contains('subNavBarItemPlaceHolder'))\n                return;\n            item.style.opacity = '0';\n            item.addEventListener('transitionend', function () {\n                item.style.display = 'none';\n            }, { once: true });\n        });\n        controllerWrapper.addEventListener('transitionend', function () {\n            inputWrapper.style.display = 'none';\n            controllerWrapper.style.display = 'none';\n            var multipageComponent = createPaginationController();\n            mediasearchBar.appendChild(multipageComponent);\n            _this.updatePaginationBilibiliMultiPageVideo(1, mediaItems);\n        }, { once: true });\n        mediaContainerContent.addEventListener('transitionend', function () {\n            mediaContainerContent.style.display = 'none';\n            multipageMediaContainerContent.style.opacity = '0';\n            container.appendChild(multipageMediaContainerContent);\n            setTimeout(function () {\n                multipageMediaContainerContent.style.opacity = '1';\n            }, 1);\n        }, { once: true });\n    };\n    MediaContainer.prototype.updatePaginationNeteasePlayList = function (currentPage, mediaItems) {\n        var music = new Music_1.Music();\n        this.PaginationAction(currentPage, mediaItems, music.NeteaseRecommendSongListMediaContainerItemByIDs.bind(music));\n    };\n    MediaContainer.prototype.updatePaginationNeteaseMusic = function (currentPage, mediaItems) {\n        var music = new Music_1.Music();\n        this.PaginationAction(currentPage, mediaItems, music.NeteaseSearchMediaContainerByIDs.bind(music));\n    };\n    MediaContainer.prototype.updatePaginationBilibiliRCMDVideo = function (currentPage, mediaItems) {\n        var video = new Video_1.Video();\n        this.PaginationAction(currentPage, mediaItems, video.bilibiliVideoMediaContainerItemByIDs.bind(video));\n    };\n    MediaContainer.prototype.updatePaginationBilibiliSearchVideo = function (currentPage, mediaItems) {\n        var video = new Video_1.Video();\n        this.PaginationAction(currentPage, mediaItems, video.bilibiliSearchMediaContainerItemByKeyword.bind(video));\n    };\n    MediaContainer.prototype.updatePaginationBilibiliMultiPageVideo = function (currentPage, mediaItems) {\n        var video = new Video_1.Video();\n        this.PaginationAction(currentPage, mediaItems, video.bilibiliVideoMediaContainerItemByCids.bind(video));\n    };\n    MediaContainer.prototype.updatePaginationNotings = function () {\n        this.PaginationAction();\n    };\n    MediaContainer.prototype.PaginationAction = function (currentPage, mediaItems, func) {\n        var e_1, _a, e_2, _b, e_3, _c;\n        var _this = this;\n        var _d, _e, _f, _g, _h, _j, _k, _l, _m;\n        var pagination = null;\n        var prevButton = null;\n        var nextButton = null;\n        var paginationList = Array.from(document.querySelectorAll('.pagination'));\n        var prevButtonList = Array.from(document.querySelectorAll('.prevButtonWrapper'));\n        var nextButtonList = Array.from(document.querySelectorAll('.nextButtonWrapper'));\n        if (paginationList.length > 1) {\n            try {\n                // 使用 for...of 循环遍历 NodeListOf\n                for (var paginationList_1 = __values(paginationList), paginationList_1_1 = paginationList_1.next(); !paginationList_1_1.done; paginationList_1_1 = paginationList_1.next()) {\n                    var item = paginationList_1_1.value;\n                    if (((_f = (_e = (_d = item.parentElement) === null || _d === void 0 ? void 0 : _d.parentElement) === null || _e === void 0 ? void 0 : _e.parentElement) === null || _f === void 0 ? void 0 : _f.style.opacity) === '1') {\n                        pagination = item;\n                        break; // 找到符合条件的元素后立即退出循环\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (paginationList_1_1 && !paginationList_1_1.done && (_a = paginationList_1.return)) _a.call(paginationList_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            try {\n                for (var prevButtonList_1 = __values(prevButtonList), prevButtonList_1_1 = prevButtonList_1.next(); !prevButtonList_1_1.done; prevButtonList_1_1 = prevButtonList_1.next()) {\n                    var item = prevButtonList_1_1.value;\n                    if (((_j = (_h = (_g = item.parentElement) === null || _g === void 0 ? void 0 : _g.parentElement) === null || _h === void 0 ? void 0 : _h.parentElement) === null || _j === void 0 ? void 0 : _j.style.opacity) === '1') {\n                        prevButton = item;\n                        break; // 找到符合条件的元素后立即退出循环\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (prevButtonList_1_1 && !prevButtonList_1_1.done && (_b = prevButtonList_1.return)) _b.call(prevButtonList_1);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            try {\n                for (var nextButtonList_1 = __values(nextButtonList), nextButtonList_1_1 = nextButtonList_1.next(); !nextButtonList_1_1.done; nextButtonList_1_1 = nextButtonList_1.next()) {\n                    var item = nextButtonList_1_1.value;\n                    if (((_m = (_l = (_k = item.parentElement) === null || _k === void 0 ? void 0 : _k.parentElement) === null || _l === void 0 ? void 0 : _l.parentElement) === null || _m === void 0 ? void 0 : _m.style.opacity) === '1') {\n                        nextButton = item;\n                        break; // 找到符合条件的元素后立即退出循环\n                    }\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (nextButtonList_1_1 && !nextButtonList_1_1.done && (_c = nextButtonList_1.return)) _c.call(nextButtonList_1);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        }\n        else {\n            pagination = paginationList[0];\n            // 这里判断如果有一个以上，就是进入分集了\n            if (prevButtonList.length > 1 && nextButtonList.length > 1) {\n                prevButton = prevButtonList[1];\n                nextButton = nextButtonList[1];\n            }\n            else {\n                prevButton = prevButtonList[0];\n                nextButton = nextButtonList[0];\n            }\n        }\n        if (!pagination || !prevButton || !nextButton)\n            return null;\n        if (func && currentPage && mediaItems) {\n            var totalPage_1 = Math.ceil(mediaItems.length / 10);\n            pagination.innerText = \"\".concat(currentPage, \"/\").concat(totalPage_1);\n            prevButton.onclick = function () {\n                if (!currentPage)\n                    return;\n                var MediaContainerContentCollection = Array.from(document.querySelectorAll('.MediaContainerContent'));\n                var MediaContainerContent = undefined;\n                // 这里判断如果有一个以上，就是进入分集了\n                if (MediaContainerContentCollection.length > 1) {\n                    MediaContainerContent = MediaContainerContentCollection[1];\n                }\n                else {\n                    MediaContainerContent = MediaContainerContentCollection[0];\n                }\n                if (!MediaContainerContent)\n                    return;\n                if (currentPage === 1)\n                    return;\n                currentPage--;\n                var parent = MediaContainerContent.parentElement;\n                var NeteaseSearchMediaContainerByIDs = func(currentPage, mediaItems);\n                var newMediaContainerContent = _this.createMediaContainerContent(NeteaseSearchMediaContainerByIDs, 'rgb(221, 28, 4)');\n                pagination.innerText = \"\".concat(currentPage, \"/\").concat(totalPage_1);\n                MediaContainerContent.style.opacity = '0';\n                MediaContainerContent.addEventListener('transitionend', function () {\n                    MediaContainerContent.remove();\n                    // 这里判断如果有一个以上，就是进入分集了\n                    if (MediaContainerContentCollection.length === 1) {\n                        var currentMediaContainerContent = document.getElementById('MediaContainerContent');\n                        if (currentMediaContainerContent)\n                            return;\n                    }\n                    else {\n                        var currentMediaContainerContent = Array.from(document.querySelectorAll('.MediaContainerContent'));\n                        if (currentMediaContainerContent.length > 1)\n                            return;\n                    }\n                    if (parent) {\n                        newMediaContainerContent.style.opacity = '0';\n                        parent.appendChild(newMediaContainerContent);\n                        setTimeout(function () {\n                            newMediaContainerContent.style.opacity = '1';\n                        }, 1);\n                    }\n                }, { once: true });\n            };\n            nextButton.onclick = function () {\n                if (!currentPage)\n                    return;\n                var MediaContainerContentCollection = Array.from(document.querySelectorAll('.MediaContainerContent'));\n                var MediaContainerContent = undefined;\n                // 这里判断如果有一个以上，就是进入分集了\n                if (MediaContainerContentCollection.length > 1) {\n                    MediaContainerContent = MediaContainerContentCollection[1];\n                }\n                else {\n                    MediaContainerContent = MediaContainerContentCollection[0];\n                }\n                if (!MediaContainerContent)\n                    return;\n                if (currentPage === totalPage_1)\n                    return;\n                currentPage++;\n                var parent = MediaContainerContent.parentElement;\n                var NeteaseSearchMediaContainerByIDs = func(currentPage, mediaItems);\n                pagination.innerText = \"\".concat(currentPage, \"/\").concat(totalPage_1);\n                var newMediaContainerContent = _this.createMediaContainerContent(NeteaseSearchMediaContainerByIDs, 'rgb(221, 28, 4)');\n                MediaContainerContent.style.opacity = '0';\n                MediaContainerContent.addEventListener('transitionend', function () {\n                    MediaContainerContent.remove();\n                    // 这里判断如果有一个以上，就是进入分集了\n                    if (MediaContainerContentCollection.length === 1) {\n                        var currentMediaContainerContent = document.getElementById('MediaContainerContent');\n                        if (currentMediaContainerContent)\n                            return;\n                    }\n                    else {\n                        var currentMediaContainerContent = Array.from(document.querySelectorAll('.MediaContainerContent'));\n                        console.log(currentMediaContainerContent.length);\n                        if (currentMediaContainerContent.length > 1)\n                            return;\n                    }\n                    if (parent) {\n                        newMediaContainerContent.style.opacity = '0';\n                        parent.appendChild(newMediaContainerContent);\n                        setTimeout(function () {\n                            newMediaContainerContent.style.opacity = '1';\n                        }, 1);\n                    }\n                }, { once: true });\n            };\n        }\n        else {\n            pagination.innerText = \"-/-\";\n            prevButton.onclick = function () { return; };\n            nextButton.onclick = function () { return; };\n        }\n    };\n    return MediaContainer;\n}());\nexports.MediaContainer = MediaContainer;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/IIROSE-MEDIA/MediaContainer.ts?");

/***/ }),

/***/ "./src/IIROSE-MEDIA/NavBar.ts":
/*!************************************!*\
  !*** ./src/IIROSE-MEDIA/NavBar.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CreateNavBar = void 0;\nvar MusicMediaContainer_1 = __webpack_require__(/*! ../UpdateDOM/MusicMediaContainer */ \"./src/UpdateDOM/MusicMediaContainer.ts\");\nvar SettingContainer_1 = __webpack_require__(/*! ../UpdateDOM/SettingContainer */ \"./src/UpdateDOM/SettingContainer.ts\");\nvar VideoMediaContainer_1 = __webpack_require__(/*! ../UpdateDOM/VideoMediaContainer */ \"./src/UpdateDOM/VideoMediaContainer.ts\");\nvar index_1 = __webpack_require__(/*! ../UpdateDOM/index */ \"./src/UpdateDOM/index.ts\");\nvar CreateNavBar = /** @class */ (function () {\n    function CreateNavBar() {\n    }\n    CreateNavBar.prototype.createNavBar = function () {\n        var NavBar = document.createElement('div');\n        NavBar.className = 'NavBar';\n        NavBar.appendChild(this.CreateLeftComponent());\n        NavBar.appendChild(this.CreateRightComponent());\n        return NavBar;\n    };\n    CreateNavBar.prototype.CreateLeftComponent = function () {\n        function createNavBarButton(Button) {\n            var NavBarButton = document.createElement('div');\n            if (Button.active)\n                NavBarButton.classList.add('NavBarButtonActive');\n            if (Button.ButtonClass)\n                NavBarButton.classList.add(Button.ButtonClass);\n            else\n                NavBarButton.classList.add('NavBarButton');\n            if (Button.ButtonID)\n                NavBarButton.id = Button.ButtonID;\n            if (Button.onClick)\n                NavBarButton.onclick = Button.onClick;\n            if (Button.IconID) {\n                var Icon = document.createElement('div');\n                Icon.className = 'NavBarButtonIcon';\n                Icon.id = Button.IconID;\n                NavBarButton.appendChild(Icon);\n            }\n            var Text = document.createElement('div');\n            Text.className = 'NavBarButtonText';\n            if (Button.Text)\n                Text.innerText = Button.Text;\n            NavBarButton.appendChild(Text);\n            return NavBarButton;\n        }\n        var LeftComponent = document.createElement('div');\n        LeftComponent.className = 'LeftComponent';\n        var LeftComponentButton = [{\n                IconID: 'BackIcon',\n                ButtonID: 'BackButton',\n                active: true,\n                onClick: function () {\n                    var updateDOM = new index_1.UpdateDom();\n                    updateDOM.changeStatusIIROSE_MEDIA();\n                }\n            }, {\n                ButtonClass: 'NavBarTitle',\n                ButtonID: 'NavBarTitle',\n                IconID: 'TitleIcon',\n                Text: 'IIROSE-MEDIA'\n            }];\n        LeftComponentButton.forEach(function (Button) {\n            LeftComponent.appendChild(createNavBarButton(Button));\n        });\n        return LeftComponent;\n    };\n    CreateNavBar.prototype.CreateRightComponent = function () {\n        function createNavBarButton(Button) {\n            var NavBarButton = document.createElement('div');\n            NavBarButton.classList.add('NavBarButton');\n            if (Button.active) {\n                NavBarButton.classList.add('NavBarButtonActive');\n            }\n            if (Button.ButtonID) {\n                NavBarButton.id = Button.ButtonID;\n            }\n            if (Button.onClick) {\n                NavBarButton.onclick = function () {\n                    if (Button.onClick)\n                        Button.onClick();\n                    // 然后执行额外的逻辑\n                    var parent = NavBarButton.parentElement;\n                    if (parent) {\n                        var siblings = Array.from(parent.children).filter(function (child) { return child !== NavBarButton; });\n                        siblings.forEach(function (sibling) { return sibling.classList.remove('NavBarButtonActive'); });\n                        NavBarButton.classList.add('NavBarButtonActive');\n                    }\n                };\n            }\n            if (Button.IconID) {\n                var Icon = document.createElement('div');\n                Icon.className = 'NavBarButtonIcon';\n                Icon.id = Button.IconID;\n                NavBarButton.appendChild(Icon);\n            }\n            var Text = document.createElement('div');\n            Text.className = 'NavBarButtonText';\n            if (Button.Text) {\n                Text.innerText = Button.Text;\n            }\n            NavBarButton.appendChild(Text);\n            return NavBarButton;\n        }\n        var RightComponent = document.createElement('div');\n        RightComponent.className = 'RightComponent';\n        var RightComponentButton = [{\n                ButtonID: 'MusicButton',\n                IconID: 'MusicIcon',\n                Text: '音乐',\n                active: true,\n                onClick: function () {\n                    var musicMediaContainer = new MusicMediaContainer_1.MusicMediaContainer();\n                    musicMediaContainer.showMusicMediaContainer();\n                }\n            },\n            {\n                ButtonID: 'VideoButton',\n                IconID: 'VideoIcon',\n                Text: '视频',\n                onClick: function () {\n                    var videoMediaContainer = new VideoMediaContainer_1.VideoMediaContainer();\n                    videoMediaContainer.showVideoMediaContainer();\n                }\n            },\n            {\n                ButtonID: 'SettingButton',\n                IconID: 'SettingIcon',\n                Text: '设置',\n                onClick: function () {\n                    console.log('设置');\n                    var settingContainer = new SettingContainer_1.SettingContainer();\n                    settingContainer.showSettingContainer();\n                }\n            }];\n        RightComponentButton.forEach(function (Button) {\n            RightComponent.appendChild(createNavBarButton(Button));\n        });\n        return RightComponent;\n    };\n    return CreateNavBar;\n}());\nexports.CreateNavBar = CreateNavBar;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/IIROSE-MEDIA/NavBar.ts?");

/***/ }),

/***/ "./src/IIROSE-MEDIA/index.ts":
/*!***********************************!*\
  !*** ./src/IIROSE-MEDIA/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.IIROSEMEDIA = void 0;\nvar NavBar_1 = __webpack_require__(/*! ./NavBar */ \"./src/IIROSE-MEDIA/NavBar.ts\");\n__webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../SCSS/IIROSE_MEDIA.scss'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nvar MediaContainer_1 = __webpack_require__(/*! ./MediaContainer */ \"./src/IIROSE-MEDIA/MediaContainer.ts\");\nvar IIROSE_MEDIASelectHolder_1 = __webpack_require__(/*! ./IIROSE_MEDIASelectHolder */ \"./src/IIROSE-MEDIA/IIROSE_MEDIASelectHolder.ts\");\nvar Music_1 = __webpack_require__(/*! ../Platform/Music */ \"./src/Platform/Music.ts\");\nvar IIROSE_MEDIAInput_1 = __webpack_require__(/*! ./IIROSE_MEDIAInput */ \"./src/IIROSE-MEDIA/IIROSE_MEDIAInput.ts\");\nvar IIROSEMEDIA = /** @class */ (function () {\n    function IIROSEMEDIA() {\n    }\n    IIROSEMEDIA.prototype.createIIROSEMEDIA = function () {\n        if (!document.getElementById('IIROSE_MEDIA_CONTAINER')) {\n            var IIROSE_MEDIA_CONTAINER = document.createElement('div');\n            IIROSE_MEDIA_CONTAINER.id = 'IIROSE_MEDIA_CONTAINER';\n            IIROSE_MEDIA_CONTAINER.classList.add('IIROSE_MEDIA_CONTAINER');\n            var mainContainer = document.getElementById('mainContainer');\n            var iiROSE_MEDIASelectHolder = new IIROSE_MEDIASelectHolder_1.IIROSE_MEDIASelectHolder();\n            var SelectHolder = iiROSE_MEDIASelectHolder.createIIROSE_MEDIASelectHolder();\n            var iiROSE_MEDIAInput = new IIROSE_MEDIAInput_1.IIROSE_MEDIAInput();\n            var iiroseInput = iiROSE_MEDIAInput.createIIROSE_MEDIAInput();\n            if (mainContainer) {\n                var IIROSE_MEDIA = this.createIIROSE_MEDIA();\n                mainContainer.appendChild(IIROSE_MEDIA_CONTAINER);\n                mainContainer.appendChild(SelectHolder);\n                mainContainer.appendChild(iiroseInput);\n                IIROSE_MEDIA_CONTAINER.appendChild(IIROSE_MEDIA);\n            }\n        }\n    };\n    IIROSEMEDIA.prototype.createIIROSE_MEDIA = function () {\n        var IIROSE_MEDIA = document.createElement('div');\n        IIROSE_MEDIA.id = 'IIROSE_MEDIA';\n        var createNavBar = new NavBar_1.CreateNavBar();\n        var navBar = createNavBar.createNavBar();\n        IIROSE_MEDIA.appendChild(navBar);\n        var MediaContainerWrapper = document.createElement('div');\n        MediaContainerWrapper.classList.add('MediaContainerWrapper');\n        MediaContainerWrapper.id = 'MediaContainerWrapper';\n        var music = new Music_1.Music();\n        var platforms = music.music();\n        var mediaContainer = new MediaContainer_1.MediaContainer();\n        MediaContainerWrapper.appendChild(mediaContainer.createMediaCOntainer(platforms, 'MusicContainer'));\n        IIROSE_MEDIA.appendChild(MediaContainerWrapper);\n        return IIROSE_MEDIA;\n    };\n    return IIROSEMEDIA;\n}());\nexports.IIROSEMEDIA = IIROSEMEDIA;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/IIROSE-MEDIA/index.ts?");

/***/ }),

/***/ "./src/Platform/Music.ts":
/*!*******************************!*\
  !*** ./src/Platform/Music.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Music = void 0;\nvar NeteaseMusic_1 = __webpack_require__(/*! ../Api/NeteaseAPI/NeteaseMusic */ \"./src/Api/NeteaseAPI/NeteaseMusic/index.ts\");\nvar index_1 = __webpack_require__(/*! ../Api/NeteaseAPI/NeteaseSearch/index */ \"./src/Api/NeteaseAPI/NeteaseSearch/index.ts\");\nvar IIROSE_MEDIASelectHolder_1 = __webpack_require__(/*! ../IIROSE-MEDIA/IIROSE_MEDIASelectHolder */ \"./src/IIROSE-MEDIA/IIROSE_MEDIASelectHolder.ts\");\nvar MediaContainer_1 = __webpack_require__(/*! ../IIROSE-MEDIA/MediaContainer */ \"./src/IIROSE-MEDIA/MediaContainer.ts\");\nvar Socket_1 = __webpack_require__(/*! ../Socket */ \"./src/Socket/index.ts\");\nvar Media_1 = __webpack_require__(/*! ../Socket/Media */ \"./src/Socket/Media/index.ts\");\nvar UpdateDOM_1 = __webpack_require__(/*! ../UpdateDOM */ \"./src/UpdateDOM/index.ts\");\nvar MediaContainerDisplay_1 = __webpack_require__(/*! ../UpdateDOM/MediaContainerDisplay */ \"./src/UpdateDOM/MediaContainerDisplay.ts\");\nvar Music = /** @class */ (function () {\n    function Music() {\n    }\n    Music.prototype.music = function () {\n        var platforms = [\n            this.netease()\n        ];\n        return platforms;\n    };\n    Music.prototype.netease = function () {\n        var _this = this;\n        var NetEaseRecommandPlayListitem = this.neteaseRecommendSongListMediaContainerItem();\n        return {\n            id: 'Netease',\n            title: '网易云音乐',\n            iconsrc: 'https://static.codemao.cn/rose/v0/images/system/media/music/NeteaseMusic/logo.png',\n            buttonBackgroundColor: 'rgb(221, 28, 4)',\n            inputEvent: {\n                title: '请输入搜索关键词',\n                InputAreaConfirmBtnOnClick: function () {\n                    var mediaSearchBarInput = document.getElementById('mediaSearchBarInput');\n                    if (!mediaSearchBarInput)\n                        return;\n                    var inputPlace = document.getElementById('inputPlace');\n                    if (!inputPlace || inputPlace.value === '')\n                        return;\n                    mediaSearchBarInput.innerHTML = inputPlace.value;\n                    var SubNavBarItemSearchMusic = document.getElementById('SubNavBarItemSearchMusic');\n                    if (!SubNavBarItemSearchMusic)\n                        return;\n                    var subNavBarItemActive = document.querySelector('.subNavBarItemActive');\n                    if (subNavBarItemActive) {\n                        if (subNavBarItemActive.classList.contains('SubNavBarItemSearch'))\n                            subNavBarItemActive.click();\n                        else\n                            SubNavBarItemSearchMusic.click();\n                    }\n                    else\n                        SubNavBarItemSearchMusic.click();\n                }\n            },\n            subNavBarItems: [\n                {\n                    title: '推荐歌单',\n                    id: 'SubNavBarItemNeteaseRecommandPlayList',\n                    onclick: function () {\n                        var mediaContainer = new MediaContainer_1.MediaContainer();\n                        var NetEaseRecommandPlayListitem = _this.neteaseRecommendSongListMediaContainerItem();\n                        var MediaContainerContent = document.getElementById('MediaContainerContent');\n                        if (!MediaContainerContent)\n                            return;\n                        mediaContainer.updatePaginationNotings();\n                        var newMediaContainerContent = mediaContainer.createMediaContainerContent(NetEaseRecommandPlayListitem, 'rgb(221, 28, 4)');\n                        var parent = MediaContainerContent.parentElement;\n                        MediaContainerContent.style.opacity = '0';\n                        MediaContainerContent.addEventListener('transitionend', function () {\n                            MediaContainerContent.remove();\n                            var currentMediaContainerContent = document.getElementById('MediaContainerContent');\n                            if (currentMediaContainerContent)\n                                return;\n                            if (parent) {\n                                newMediaContainerContent.style.opacity = '0';\n                                parent.appendChild(newMediaContainerContent);\n                                setTimeout(function () {\n                                    newMediaContainerContent.style.opacity = '1';\n                                }, 1);\n                            }\n                        }, { once: true });\n                    },\n                    item: NetEaseRecommandPlayListitem\n                },\n                {\n                    title: '搜索歌曲',\n                    class: 'SubNavBarItemSearch',\n                    id: 'SubNavBarItemSearchMusic',\n                    onclick: function () {\n                        var mediaContainer = new MediaContainer_1.MediaContainer();\n                        var MediaContainerContent = document.getElementById('MediaContainerContent');\n                        if (!MediaContainerContent)\n                            return;\n                        var mediaSearchBarInput = document.getElementById('mediaSearchBarInput');\n                        if (!mediaSearchBarInput)\n                            return;\n                        if (mediaSearchBarInput.innerHTML === '') {\n                            var containerMsgWrapper = document.querySelector('.containerMsgWrapper');\n                            if (containerMsgWrapper)\n                                return;\n                            MediaContainerContent.style.opacity = '0';\n                            MediaContainerContent.addEventListener('transitionend', function () {\n                                var mediaContainerDisplay = new MediaContainerDisplay_1.MediaContainerDisplay();\n                                mediaContainerDisplay.displayPleaseSearch('rgb(221, 28, 4)');\n                                return;\n                            }, { once: true });\n                        }\n                        ;\n                        mediaContainer.updatePaginationNotings();\n                        var keyword = mediaSearchBarInput.innerHTML;\n                        var NeteaseSearchMediaContainerItem = _this.NeteaseSearchMediaContainerItem(keyword);\n                        var newMediaContainerContent = mediaContainer.createMediaContainerContent(NeteaseSearchMediaContainerItem, 'rgb(221, 28, 4)');\n                        var parent = MediaContainerContent.parentElement;\n                        MediaContainerContent.style.opacity = '0';\n                        MediaContainerContent.addEventListener('transitionend', function () {\n                            MediaContainerContent.remove();\n                            var currentMediaContainerContent = document.getElementById('MediaContainerContent');\n                            if (currentMediaContainerContent)\n                                return;\n                            if (parent) {\n                                newMediaContainerContent.style.opacity = '0';\n                                parent.appendChild(newMediaContainerContent);\n                                setTimeout(function () {\n                                    newMediaContainerContent.style.opacity = '1';\n                                }, 1);\n                            }\n                        }, { once: true });\n                    }\n                }\n            ]\n        };\n    };\n    Music.prototype.formatMillisecondsToMinutes = function (milliseconds) {\n        var totalSeconds = Math.floor(milliseconds / 1000);\n        var minutes = Math.floor(totalSeconds / 60);\n        var seconds = totalSeconds % 60;\n        // 格式化为 xx:xx 形式\n        var formattedTime = \"\".concat(minutes.toString().padStart(2, '0'), \":\").concat(seconds.toString().padStart(2, '0'));\n        return formattedTime;\n    };\n    /**\n     * 推荐歌单\n     * @returns\n     */\n    Music.prototype.neteaseRecommendSongListMediaContainerItem = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var neteaseSearchAPI, limit, RecommandPlayList, x, index, _loop_1, _a, _b, resultElement, state_1, mediaItem, mediaContainer;\n            var e_1, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        neteaseSearchAPI = new index_1.NeteaseSearchAPI();\n                        limit = 100;\n                        return [4 /*yield*/, neteaseSearchAPI.getNeteaseRecommandPlayListXC(limit)];\n                    case 1:\n                        RecommandPlayList = _d.sent();\n                        x = [];\n                        index = 0;\n                        if (!RecommandPlayList || !RecommandPlayList.result)\n                            return [2 /*return*/, null];\n                        _loop_1 = function (resultElement) {\n                            var mediaContainerItem = [];\n                            var neteaseMusicApi = new NeteaseMusic_1.NeteaseMusicAPI();\n                            var songListDetail = neteaseMusicApi.getSongListDetail(resultElement.id);\n                            var PromiseMediaContainerItem = songListDetail.then(function (songListDetailElement) {\n                                if (!songListDetailElement || !songListDetailElement.playlist.creator)\n                                    return null;\n                                var item = {\n                                    id: resultElement.id || 0,\n                                    title: resultElement.name,\n                                    img: resultElement.picUrl,\n                                    url: \"https://music.163.com/#/playlist?id=\".concat(resultElement.id),\n                                    author: songListDetailElement.playlist.creator.nickname,\n                                    duration: \"\\u6B4C\\u5355/\".concat(resultElement.trackCount, \"\\u9996\"),\n                                    MediaRequest: function () {\n                                        var iiROSE_MEDIASelectHolder = new IIROSE_MEDIASelectHolder_1.IIROSE_MEDIASelectHolder();\n                                        var item = [{\n                                                id: 'sequence',\n                                                title: '正序点播',\n                                                onclick: function () {\n                                                    var neteaseMusicAPI = new NeteaseMusic_1.NeteaseMusicAPI();\n                                                    var data = neteaseMusicAPI.getSongListDetail(resultElement.id);\n                                                    var count = 0;\n                                                    data.then(function (element) {\n                                                        if (!element)\n                                                            return;\n                                                        var socket = new Socket_1.Socket();\n                                                        var sMedia = new Media_1.Media();\n                                                        element.playlist.trackIds.forEach(function (element, index) {\n                                                            var songResource = neteaseMusicAPI.getSongResource(element.id);\n                                                            songResource.then(function (songResource) {\n                                                                if (!element)\n                                                                    return;\n                                                                if (!songResource)\n                                                                    return;\n                                                                console.log(count += 1);\n                                                                var mediaData = {\n                                                                    type: 'music',\n                                                                    name: songResource.name,\n                                                                    singer: songResource.auther,\n                                                                    cover: songResource.pic,\n                                                                    link: \"https://music.163.com/#/song?id=\".concat(element.id),\n                                                                    url: songResource.url,\n                                                                    duration: songResource.time / 1000,\n                                                                    bitRate: songResource.br / 1000,\n                                                                    color: 'FFFFFF',\n                                                                    lyrics: songResource.lrc_control,\n                                                                    origin: 'netease'\n                                                                };\n                                                                // 开了这个，速度大打折扣\n                                                                // const iImageTools = new ImageTools()\n                                                                // iImageTools.getImageAverageColor(mediaData.cover, 0.5).then(color => {\n                                                                //     mediaData.color = color\n                                                                //     console.log(color)\n                                                                //     socket.sendMessage(sMedia.mediaCard(mediaData), color)\n                                                                // })\n                                                                // console.log(mediaData)\n                                                                socket.sendMessage(sMedia.mediaCard(mediaData));\n                                                                socket.sendMessage(sMedia.mediaEvent(mediaData));\n                                                            });\n                                                        });\n                                                        return;\n                                                    });\n                                                }\n                                            }, {\n                                                id: 'random',\n                                                title: '乱序点播',\n                                                onclick: function () {\n                                                    console.log('乱序点播');\n                                                }\n                                            }];\n                                        iiROSE_MEDIASelectHolder.showIIROSE_MEDIASelectHolder(item);\n                                    }\n                                };\n                                mediaContainerItem.push(item);\n                                return mediaContainerItem;\n                            });\n                            x.push(PromiseMediaContainerItem);\n                            index += 1;\n                            if (index >= 10)\n                                return \"break\";\n                        };\n                        try {\n                            for (_a = __values(RecommandPlayList.result), _b = _a.next(); !_b.done; _b = _a.next()) {\n                                resultElement = _b.value;\n                                state_1 = _loop_1(resultElement);\n                                if (state_1 === \"break\")\n                                    break;\n                            }\n                        }\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                        finally {\n                            try {\n                                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                            }\n                            finally { if (e_1) throw e_1.error; }\n                        }\n                        ;\n                        mediaItem = [];\n                        mediaContainer = new MediaContainer_1.MediaContainer();\n                        RecommandPlayList.result.forEach(function (element, index) {\n                            mediaItem[index] = {\n                                id: element.id,\n                                title: element.name,\n                                img: element.picUrl,\n                                url: \"https://music.163.com/#/playlist?id=\".concat(element.id),\n                            };\n                        });\n                        mediaContainer.updatePaginationNeteasePlayList(1, mediaItem);\n                        return [2 /*return*/, x];\n                }\n            });\n        });\n    };\n    /**\n     * 搜索歌曲\n     * @param keyword\n     * @returns\n     */\n    Music.prototype.NeteaseSearchMediaContainerItem = function (keyword) {\n        return __awaiter(this, void 0, void 0, function () {\n            var neteaseSearchAPI, limit, searchData, x, index, _loop_2, _a, _b, searchDataElement, state_2, mediaContainer, songCount, MediaItem;\n            var e_2, _c;\n            var _this = this;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        neteaseSearchAPI = new index_1.NeteaseSearchAPI();\n                        limit = 100;\n                        return [4 /*yield*/, neteaseSearchAPI.getNeteaseMusicSearchData(keyword, limit)];\n                    case 1:\n                        searchData = _d.sent();\n                        if (!searchData || !searchData.result || !searchData.result.songs)\n                            return [2 /*return*/, null];\n                        x = [];\n                        index = 0;\n                        _loop_2 = function (searchDataElement) {\n                            var mediaContainerItem = [];\n                            var neteaseMusicApi = new NeteaseMusic_1.NeteaseMusicAPI();\n                            var songDetail = neteaseMusicApi.getNeteaseSongDetailFromXC(searchDataElement.id);\n                            var PromiseMediaContainerItem = songDetail.then(function (songDetailElement) {\n                                if (!songDetailElement || !songDetailElement.songs)\n                                    return null;\n                                mediaContainerItem[0] = {\n                                    id: searchDataElement.id,\n                                    title: searchDataElement.name,\n                                    img: songDetailElement.songs[0].al.picUrl,\n                                    url: \"https://music.163.com/#/song?id=\".concat(searchDataElement.id),\n                                    author: songDetailElement.songs[0].ar[0].name,\n                                    duration: _this.formatMillisecondsToMinutes(songDetailElement.songs[0].dt),\n                                    MediaRequest: function () {\n                                        var socket = new Socket_1.Socket();\n                                        var sMedia = new Media_1.Media();\n                                        var neteaseMusicAPI = new NeteaseMusic_1.NeteaseMusicAPI();\n                                        var songResource = neteaseMusicAPI.getSongResource(searchDataElement.id, 'exhigh');\n                                        var updateDom = new UpdateDOM_1.UpdateDom();\n                                        updateDom.changeStatusIIROSE_MEDIA();\n                                        songResource.then(function (songResource) {\n                                            if (!songDetailElement || !songDetailElement.songs)\n                                                return null;\n                                            if (!songResource)\n                                                return null;\n                                            var mediaData = {\n                                                type: 'music',\n                                                name: searchDataElement.name,\n                                                singer: songDetailElement.songs[0].ar[0].name,\n                                                cover: songDetailElement.songs[0].al.picUrl,\n                                                link: \"https://music.163.com/#/song?id=\".concat(searchDataElement.id),\n                                                url: songResource.url,\n                                                duration: songDetailElement.songs[0].dt / 1000,\n                                                bitRate: songResource.br / 1000,\n                                                color: 'FFFFFF',\n                                                lyrics: songResource.lrc_control,\n                                                origin: 'netease'\n                                            };\n                                            socket.sendMessage(sMedia.mediaCard(mediaData));\n                                            socket.sendMessage(sMedia.mediaEvent(mediaData));\n                                        });\n                                    }\n                                };\n                                return mediaContainerItem;\n                            });\n                            x.push(PromiseMediaContainerItem);\n                            index += 1;\n                            if (index >= 10)\n                                return \"break\";\n                        };\n                        try {\n                            for (_a = __values(searchData.result.songs), _b = _a.next(); !_b.done; _b = _a.next()) {\n                                searchDataElement = _b.value;\n                                state_2 = _loop_2(searchDataElement);\n                                if (state_2 === \"break\")\n                                    break;\n                            }\n                        }\n                        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                        finally {\n                            try {\n                                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                            }\n                            finally { if (e_2) throw e_2.error; }\n                        }\n                        ;\n                        mediaContainer = new MediaContainer_1.MediaContainer();\n                        if (searchData.result.songCount < limit && searchData.result.songCount <= 100) {\n                            songCount = searchData.result.songCount;\n                        }\n                        else {\n                            songCount = limit;\n                        }\n                        MediaItem = [];\n                        searchData.result.songs.forEach(function (element, index) {\n                            MediaItem[index] = {\n                                id: element.id,\n                                title: element.name,\n                                author: element.artists[0].name,\n                                duration: _this.formatMillisecondsToMinutes(element.duration),\n                            };\n                        });\n                        mediaContainer.updatePaginationNeteaseMusic(1, MediaItem);\n                        return [2 /*return*/, x];\n                }\n            });\n        });\n    };\n    /**\n     * 根据歌曲ID获取歌曲信息\n     * @param currentPage\n     * @param fullPage\n     * @param id\n     * @returns\n     */\n    Music.prototype.NeteaseSearchMediaContainerByIDs = function (currentPage, mediaItems) {\n        return __awaiter(this, void 0, void 0, function () {\n            var neteaseMusicAPI, itemPerPage, StartItem, mediaContainerItem, x;\n            var _this = this;\n            return __generator(this, function (_a) {\n                neteaseMusicAPI = new NeteaseMusic_1.NeteaseMusicAPI();\n                itemPerPage = 10;\n                StartItem = (currentPage - 1) * itemPerPage;\n                mediaContainerItem = [];\n                mediaItems = mediaItems.slice(StartItem, StartItem + itemPerPage);\n                x = [];\n                mediaItems.forEach(function (mediaItem, index) {\n                    if (index === itemPerPage)\n                        return;\n                    var songDetail = neteaseMusicAPI.getNeteaseSongDetailFromXC(mediaItem.id);\n                    var PromiseMediaContainerItem = songDetail.then(function (songDetailElement) {\n                        if (!songDetailElement || !songDetailElement.songs)\n                            return null;\n                        mediaContainerItem[0] = {\n                            id: mediaItem.id,\n                            title: songDetailElement.songs[0].name,\n                            img: songDetailElement.songs[0].al.picUrl,\n                            url: \"https://music.163.com/#/song?id=\".concat(mediaItem.id),\n                            author: songDetailElement.songs[0].ar[0].name,\n                            duration: _this.formatMillisecondsToMinutes(songDetailElement.songs[0].dt),\n                            MediaRequest: function () {\n                                var socket = new Socket_1.Socket();\n                                var sMedia = new Media_1.Media();\n                                var neteaseMusicAPI = new NeteaseMusic_1.NeteaseMusicAPI();\n                                var songResource = neteaseMusicAPI.getSongResource(mediaItem.id);\n                                var updateDom = new UpdateDOM_1.UpdateDom();\n                                updateDom.changeStatusIIROSE_MEDIA();\n                                songResource.then(function (songResource) {\n                                    if (!songDetailElement || !songDetailElement.songs)\n                                        return null;\n                                    if (!songResource)\n                                        return null;\n                                    var mediaData = {\n                                        type: 'music',\n                                        name: songResource.name,\n                                        singer: songDetailElement.songs[0].ar[0].name,\n                                        cover: songDetailElement.songs[0].al.picUrl,\n                                        link: \"https://music.163.com/#/song?id=\".concat(songResource.id),\n                                        url: songResource.url,\n                                        duration: songDetailElement.songs[0].dt / 1000,\n                                        bitRate: songResource.br / 1000,\n                                        color: 'FFFFFF',\n                                        lyrics: songResource.lrc_control,\n                                        origin: 'netease'\n                                    };\n                                    socket.sendMessage(sMedia.mediaCard(mediaData));\n                                    socket.sendMessage(sMedia.mediaEvent(mediaData));\n                                });\n                            }\n                        };\n                        console.log(mediaContainerItem[0].title);\n                        return mediaContainerItem;\n                    });\n                    x.push(PromiseMediaContainerItem);\n                });\n                return [2 /*return*/, x];\n            });\n        });\n    };\n    /**\n     * 根据歌单ID获取歌单信息\n     * @param currentPage\n     * @param fullPage\n     * @param ids\n     * @returns\n     */\n    Music.prototype.NeteaseRecommendSongListMediaContainerItemByIDs = function (currentPage, mediaItems) {\n        return __awaiter(this, void 0, void 0, function () {\n            var itemPerPage, StartItem, x, _loop_3, mediaItems_1, mediaItems_1_1, mediaItem;\n            var e_3, _a;\n            return __generator(this, function (_b) {\n                itemPerPage = 10;\n                StartItem = (currentPage - 1) * itemPerPage;\n                mediaItems = mediaItems.slice(StartItem, StartItem + itemPerPage);\n                x = [];\n                _loop_3 = function (mediaItem) {\n                    var mediaContainerItem = [];\n                    var neteaseMusicApi = new NeteaseMusic_1.NeteaseMusicAPI();\n                    var songListDetail = neteaseMusicApi.getSongListDetail(mediaItem.id);\n                    var PromiseMediaContainerItem = songListDetail.then(function (songListDetailElement) {\n                        if (!songListDetailElement || !songListDetailElement.playlist.creator)\n                            return null;\n                        var item = {\n                            id: mediaItem.id || 0,\n                            title: songListDetailElement.playlist.name,\n                            img: songListDetailElement.playlist.coverImgUrl,\n                            url: \"https://music.163.com/#/playlist?id=\".concat(mediaItem.id),\n                            author: songListDetailElement.playlist.creator.nickname,\n                            duration: \"\\u6B4C\\u5355/\".concat(songListDetailElement.playlist.trackCount, \"\\u9996\"),\n                            MediaRequest: function () {\n                                var iiROSE_MEDIASelectHolder = new IIROSE_MEDIASelectHolder_1.IIROSE_MEDIASelectHolder();\n                                var item = [{\n                                        id: 'sequence',\n                                        title: '正序点播',\n                                        onclick: function () {\n                                            var neteaseMusicAPI = new NeteaseMusic_1.NeteaseMusicAPI();\n                                            var data = neteaseMusicAPI.getSongListDetail(mediaItem.id);\n                                            var count = 0;\n                                            data.then(function (element) {\n                                                if (!element)\n                                                    return;\n                                                var socket = new Socket_1.Socket();\n                                                var sMedia = new Media_1.Media();\n                                                element.playlist.trackIds.forEach(function (element, index) {\n                                                    var songResource = neteaseMusicAPI.getSongResource(element.id);\n                                                    songResource.then(function (songResource) {\n                                                        if (!element)\n                                                            return;\n                                                        if (!songResource)\n                                                            return;\n                                                        console.log(count += 1);\n                                                        var mediaData = {\n                                                            type: 'music',\n                                                            name: songResource.name,\n                                                            singer: songResource.auther,\n                                                            cover: songResource.pic,\n                                                            link: \"https://music.163.com/#/song?id=\".concat(element.id),\n                                                            url: songResource.url,\n                                                            duration: songResource.time / 1000,\n                                                            bitRate: songResource.br / 1000,\n                                                            color: 'FFFFFF',\n                                                            lyrics: songResource.lrc_control,\n                                                            origin: 'netease'\n                                                        };\n                                                        // 开了这个，速度大打折扣\n                                                        // const iImageTools = new ImageTools()\n                                                        // iImageTools.getImageAverageColor(mediaData.cover, 0.5).then(color => {\n                                                        //     mediaData.color = color\n                                                        //     console.log(color)\n                                                        //     socket.sendMessage(sMedia.mediaCard(mediaData), color)\n                                                        // })\n                                                        // console.log(mediaData)\n                                                        socket.sendMessage(sMedia.mediaCard(mediaData));\n                                                        socket.sendMessage(sMedia.mediaEvent(mediaData));\n                                                    });\n                                                });\n                                                return;\n                                            });\n                                        }\n                                    }, {\n                                        id: 'random',\n                                        title: '乱序点播',\n                                        onclick: function () {\n                                            console.log('乱序点播');\n                                        }\n                                    }];\n                                iiROSE_MEDIASelectHolder.showIIROSE_MEDIASelectHolder(item);\n                            }\n                        };\n                        mediaContainerItem.push(item);\n                        return mediaContainerItem;\n                    });\n                    x.push(PromiseMediaContainerItem);\n                };\n                try {\n                    for (mediaItems_1 = __values(mediaItems), mediaItems_1_1 = mediaItems_1.next(); !mediaItems_1_1.done; mediaItems_1_1 = mediaItems_1.next()) {\n                        mediaItem = mediaItems_1_1.value;\n                        _loop_3(mediaItem);\n                    }\n                }\n                catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                finally {\n                    try {\n                        if (mediaItems_1_1 && !mediaItems_1_1.done && (_a = mediaItems_1.return)) _a.call(mediaItems_1);\n                    }\n                    finally { if (e_3) throw e_3.error; }\n                }\n                ;\n                return [2 /*return*/, x];\n            });\n        });\n    };\n    return Music;\n}());\nexports.Music = Music;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Platform/Music.ts?");

/***/ }),

/***/ "./src/Platform/Video.ts":
/*!*******************************!*\
  !*** ./src/Platform/Video.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Video = void 0;\nvar BiliBiliSearch_1 = __webpack_require__(/*! ../Api/BilibiliAPI/BiliBiliSearch */ \"./src/Api/BilibiliAPI/BiliBiliSearch/index.ts\");\nvar BiliBiliVideoAPI_1 = __webpack_require__(/*! ../Api/BilibiliAPI/BiliBiliVideoAPI */ \"./src/Api/BilibiliAPI/BiliBiliVideoAPI/index.ts\");\nvar MediaContainer_1 = __webpack_require__(/*! ../IIROSE-MEDIA/MediaContainer */ \"./src/IIROSE-MEDIA/MediaContainer.ts\");\nvar Socket_1 = __webpack_require__(/*! ../Socket */ \"./src/Socket/index.ts\");\nvar Media_1 = __webpack_require__(/*! ../Socket/Media */ \"./src/Socket/Media/index.ts\");\nvar UpdateDOM_1 = __webpack_require__(/*! ../UpdateDOM */ \"./src/UpdateDOM/index.ts\");\nvar MediaContainerDisplay_1 = __webpack_require__(/*! ../UpdateDOM/MediaContainerDisplay */ \"./src/UpdateDOM/MediaContainerDisplay.ts\");\nvar Video = /** @class */ (function () {\n    function Video() {\n    }\n    Video.prototype.video = function () {\n        var platforms = [\n            this.bilibili()\n        ];\n        return platforms;\n    };\n    Video.prototype.bilibili = function () {\n        var _this = this;\n        var BilibiliRecommandVideoitem = this.bilibiliRecommendVideoMediaContainerItem();\n        return {\n            id: 'BilibiliVideo',\n            title: '哔哩哔哩视频 (高清视频未完成)',\n            iconsrc: 'https://static.codemao.cn/rose/v0/images/system/media/video/bilibili/ic_launcher.png',\n            buttonBackgroundColor: 'rgb(209, 79, 118)',\n            inputEvent: {\n                title: '请输入搜索关键词',\n                InputAreaConfirmBtnOnClick: function () {\n                    var mediaSearchBarInput = document.getElementById('mediaSearchBarInput');\n                    if (!mediaSearchBarInput)\n                        return;\n                    var inputPlace = document.getElementById('inputPlace');\n                    if (!inputPlace || inputPlace.value === '')\n                        return;\n                    mediaSearchBarInput.innerHTML = inputPlace.value;\n                    var SubNavBarItemBilibiliVideo = document.getElementById('SubNavBarItemBilibiliVideo');\n                    if (!SubNavBarItemBilibiliVideo)\n                        return;\n                    var subNavBarItemActive = document.querySelector('.subNavBarItemActive');\n                    if (subNavBarItemActive) {\n                        if (subNavBarItemActive.classList.contains('SubNavBarItemSearch'))\n                            subNavBarItemActive.click();\n                        else\n                            SubNavBarItemBilibiliVideo.click();\n                    }\n                    else\n                        SubNavBarItemBilibiliVideo.click();\n                }\n            },\n            subNavBarItems: [\n                {\n                    title: '首页推荐',\n                    id: 'SubNavBarItemBilibiliRecommend',\n                    onclick: function () {\n                        var mediaContainer = new MediaContainer_1.MediaContainer();\n                        var BilibiliRecommandVideoitem = _this.bilibiliRecommendVideoMediaContainerItem();\n                        var MediaContainerContent = document.getElementById('MediaContainerContent');\n                        if (!MediaContainerContent)\n                            return;\n                        var newMediaContainerContent = mediaContainer.createMediaContainerContent(BilibiliRecommandVideoitem, 'rgb(221, 28, 4)');\n                        var parent = MediaContainerContent.parentElement;\n                        MediaContainerContent.style.opacity = '0';\n                        MediaContainerContent.addEventListener('transitionend', function () {\n                            MediaContainerContent.remove();\n                            var currentMediaContainerContent = document.getElementById('MediaContainerContent');\n                            if (currentMediaContainerContent)\n                                return;\n                            if (parent) {\n                                newMediaContainerContent.style.opacity = '0';\n                                parent.appendChild(newMediaContainerContent);\n                                setTimeout(function () {\n                                    newMediaContainerContent.style.opacity = '1';\n                                }, 1);\n                            }\n                        }, { once: true });\n                    },\n                    item: BilibiliRecommandVideoitem\n                }, {\n                    title: '搜索视频',\n                    class: 'SubNavBarItemSearch',\n                    id: 'SubNavBarItemBilibiliVideo',\n                    onclick: function () {\n                        var mediaContainer = new MediaContainer_1.MediaContainer();\n                        var mediaSearchBarInput = document.getElementById('mediaSearchBarInput');\n                        var MediaContainerContent = document.getElementById('MediaContainerContent');\n                        if (!MediaContainerContent)\n                            return;\n                        if (!mediaSearchBarInput)\n                            return;\n                        if (mediaSearchBarInput.innerHTML === '') {\n                            var containerMsgWrapper = document.querySelector('.containerMsgWrapper');\n                            if (containerMsgWrapper)\n                                return;\n                            MediaContainerContent.style.opacity = '0';\n                            MediaContainerContent.addEventListener('transitionend', function () {\n                                var mediaContainerDisplay = new MediaContainerDisplay_1.MediaContainerDisplay();\n                                mediaContainerDisplay.displayPleaseSearch('rgb(221, 28, 4)');\n                                return;\n                            }, { once: true });\n                        }\n                        ;\n                        mediaContainer.updatePaginationNotings();\n                        var keyword = mediaSearchBarInput.innerHTML;\n                        var BilibiliRecommandVideoitem = _this.bilibiliVideoSearchMediaContainer(keyword);\n                        var newMediaContainerContent = mediaContainer.createMediaContainerContent(BilibiliRecommandVideoitem, 'rgb(221, 28, 4)');\n                        var parent = MediaContainerContent.parentElement;\n                        MediaContainerContent.style.opacity = '0';\n                        MediaContainerContent.addEventListener('transitionend', function () {\n                            MediaContainerContent.remove();\n                            var currentMediaContainerContent = document.getElementById('MediaContainerContent');\n                            if (currentMediaContainerContent)\n                                return;\n                            if (parent) {\n                                newMediaContainerContent.style.opacity = '0';\n                                parent.appendChild(newMediaContainerContent);\n                                setTimeout(function () {\n                                    newMediaContainerContent.style.opacity = '1';\n                                }, 1);\n                            }\n                        }, { once: true });\n                    }\n                }, {\n                    title: '影视 (未完成)',\n                    class: 'SubNavBarItemSearch',\n                    id: 'SubNavBarItemBilibiliMovie',\n                    onclick: function () {\n                        console.log('影视');\n                    }\n                }, {\n                    title: '直播 (未完成)',\n                    class: 'SubNavBarItemSearch',\n                    id: 'SubNavBarItemBilibiliLive',\n                    onclick: function () {\n                        console.log('直播');\n                    }\n                }\n            ]\n        };\n    };\n    Video.prototype.formatMillisecondsToMinutes = function (milliseconds) {\n        var totalSeconds = Math.floor(milliseconds / 1000);\n        var minutes = Math.floor(totalSeconds / 60);\n        var seconds = totalSeconds % 60;\n        // 格式化为 xx:xx 形式\n        var formattedTime = \"\".concat(minutes.toString().padStart(2, '0'), \":\").concat(seconds.toString().padStart(2, '0'));\n        return formattedTime;\n    };\n    Video.prototype.bilibiliRecommendVideoMediaContainerItem = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var bv, bvrcmd, index, x, _loop_1, this_1, _a, _b, rcmdItem, state_1, mediaItems, _c, _d, item, mediaContainer;\n            var e_1, _e, e_2, _f;\n            return __generator(this, function (_g) {\n                switch (_g.label) {\n                    case 0:\n                        bv = new BiliBiliVideoAPI_1.BiliBiliVideoApi();\n                        return [4 /*yield*/, bv.getRecommendVideoFromMainPage(3, 1, 30, window.bilibili.rcmdVideo.fresh_idx_1h, window.bilibili.rcmdVideo.fresh_idx, window.bilibili.rcmdVideo.brush)];\n                    case 1:\n                        bvrcmd = _g.sent();\n                        window.bilibili.rcmdVideo.fresh_idx_1h += 1;\n                        window.bilibili.rcmdVideo.fresh_idx += 1;\n                        window.bilibili.rcmdVideo.brush += 1;\n                        if (!bvrcmd || !bvrcmd.data)\n                            return [2 /*return*/, null];\n                        index = 0;\n                        x = [];\n                        _loop_1 = function (rcmdItem) {\n                            var item = {\n                                id: rcmdItem.id,\n                                title: rcmdItem.title,\n                                img: rcmdItem.pic,\n                                url: rcmdItem.uri,\n                                author: rcmdItem.owner.name,\n                                duration: this_1.formatMillisecondsToMinutes(rcmdItem.duration * 1000),\n                                MediaRequest: function () {\n                                    var socket = new Socket_1.Socket();\n                                    var sMedia = new Media_1.Media();\n                                    var bvResource = bv.getBilibiliVideoStream(rcmdItem.id, rcmdItem.bvid, rcmdItem.cid, 112, 'html5');\n                                    var updateDom = new UpdateDOM_1.UpdateDom();\n                                    updateDom.changeStatusIIROSE_MEDIA();\n                                    bvResource.then(function (bvResource) {\n                                        if (!bvResource || !bvResource.data || !bvResource.data.durl || !bvResource.data.quality)\n                                            return null;\n                                        var mediaData = {\n                                            type: 'video',\n                                            name: rcmdItem.title,\n                                            singer: rcmdItem.owner.name,\n                                            cover: rcmdItem.pic,\n                                            link: rcmdItem.uri,\n                                            url: bvResource.data.durl[0].url,\n                                            duration: rcmdItem.duration,\n                                            bitRate: bvResource.data.quality,\n                                            color: 'FFFFFF',\n                                            origin: 'bilibili'\n                                        };\n                                        socket.sendMessage(sMedia.mediaCard(mediaData));\n                                        socket.sendMessage(sMedia.mediaEvent(mediaData));\n                                    });\n                                }\n                            };\n                            x.push(Promise.resolve([item]));\n                            index += 1;\n                            if (index >= 10)\n                                return \"break\";\n                        };\n                        this_1 = this;\n                        try {\n                            for (_a = __values(bvrcmd.data.item), _b = _a.next(); !_b.done; _b = _a.next()) {\n                                rcmdItem = _b.value;\n                                state_1 = _loop_1(rcmdItem);\n                                if (state_1 === \"break\")\n                                    break;\n                            }\n                        }\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                        finally {\n                            try {\n                                if (_b && !_b.done && (_e = _a.return)) _e.call(_a);\n                            }\n                            finally { if (e_1) throw e_1.error; }\n                        }\n                        mediaItems = [];\n                        try {\n                            for (_c = __values(bvrcmd.data.item), _d = _c.next(); !_d.done; _d = _c.next()) {\n                                item = _d.value;\n                                mediaItems.push({\n                                    id: item.id,\n                                    title: item.title,\n                                    img: item.pic,\n                                    url: item.uri,\n                                    author: item.owner.name,\n                                    duration: this.formatMillisecondsToMinutes(item.duration * 1000),\n                                    bilibili: {\n                                        bvid: item.bvid,\n                                        cid: item.cid\n                                    }\n                                });\n                            }\n                        }\n                        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                        finally {\n                            try {\n                                if (_d && !_d.done && (_f = _c.return)) _f.call(_c);\n                            }\n                            finally { if (e_2) throw e_2.error; }\n                        }\n                        mediaContainer = new MediaContainer_1.MediaContainer();\n                        mediaContainer.updatePaginationBilibiliRCMDVideo(1, mediaItems);\n                        return [2 /*return*/, x];\n                }\n            });\n        });\n    };\n    /**\n     * 根据mediaItems获取\n     * @param currentPage\n     * @param mediaItems\n     * @returns\n     */\n    Video.prototype.bilibiliVideoMediaContainerItemByIDs = function (currentPage, mediaItems) {\n        return __awaiter(this, void 0, void 0, function () {\n            var itemPerPage, StartItem, x, _loop_2, mediaItems_1, mediaItems_1_1, item;\n            var e_3, _a;\n            return __generator(this, function (_b) {\n                itemPerPage = 10;\n                StartItem = (currentPage - 1) * itemPerPage;\n                mediaItems = mediaItems.slice(StartItem, StartItem + itemPerPage);\n                x = [];\n                _loop_2 = function (item) {\n                    if (!item.author || !item.duration || !item.id || !item.img || !item.title || !item.url)\n                        return \"continue\";\n                    var mediaContainerItem = {\n                        id: item.id,\n                        title: item.title,\n                        img: item.img,\n                        url: item.url,\n                        author: item.author,\n                        duration: item.duration,\n                        MediaRequest: function () {\n                            var _a;\n                            if (!item.bilibili || !item.bilibili.bvid || !item.bilibili.cid)\n                                return;\n                            var socket = new Socket_1.Socket();\n                            var sMedia = new Media_1.Media();\n                            var bv = new BiliBiliVideoAPI_1.BiliBiliVideoApi();\n                            var bvResource = bv.getBilibiliVideoStream(item.id, (_a = item.bilibili) === null || _a === void 0 ? void 0 : _a.bvid, item.bilibili.cid, 112, 'html5');\n                            var updateDom = new UpdateDOM_1.UpdateDom();\n                            updateDom.changeStatusIIROSE_MEDIA();\n                            bvResource.then(function (bvResource) {\n                                if (!item.author || !item.duration || !item.id || !item.img || !item.title || !item.url || !item.bilibili || !item.bilibili.bvid || !item.bilibili.cid)\n                                    return;\n                                if (!bvResource || !bvResource.data || !bvResource.data.durl || !bvResource.data.quality)\n                                    return null;\n                                var mediaData = {\n                                    type: 'video',\n                                    name: item.title,\n                                    singer: item.author,\n                                    cover: item.img,\n                                    link: item.url,\n                                    url: bvResource.data.durl[0].url,\n                                    duration: bvResource.data.durl[0].length / 1000,\n                                    bitRate: bvResource.data.quality,\n                                    color: 'FFFFFF',\n                                    origin: 'bilibili'\n                                };\n                                socket.sendMessage(sMedia.mediaCard(mediaData));\n                                socket.sendMessage(sMedia.mediaEvent(mediaData));\n                            });\n                        },\n                    };\n                    x.push(Promise.resolve([mediaContainerItem]));\n                };\n                try {\n                    for (mediaItems_1 = __values(mediaItems), mediaItems_1_1 = mediaItems_1.next(); !mediaItems_1_1.done; mediaItems_1_1 = mediaItems_1.next()) {\n                        item = mediaItems_1_1.value;\n                        _loop_2(item);\n                    }\n                }\n                catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                finally {\n                    try {\n                        if (mediaItems_1_1 && !mediaItems_1_1.done && (_a = mediaItems_1.return)) _a.call(mediaItems_1);\n                    }\n                    finally { if (e_3) throw e_3.error; }\n                }\n                return [2 /*return*/, x];\n            });\n        });\n    };\n    /**\n     * 搜索视频\n     * @param keyword\n     * @returns\n     */\n    Video.prototype.bilibiliVideoSearchMediaContainer = function (keyword) {\n        return __awaiter(this, void 0, void 0, function () {\n            var bs, searchResult, x, _loop_3, this_2, _a, _b, result, mediaItems, pagesize, currentpage, numPages, actualItems, i, mediaContainer;\n            var e_4, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        bs = new BiliBiliSearch_1.BiliBiliSearchApi();\n                        return [4 /*yield*/, bs.getSearchRequestByTypeVideo(keyword, 1, 10)];\n                    case 1:\n                        searchResult = _d.sent();\n                        x = [];\n                        if (!searchResult || !searchResult.data)\n                            return [2 /*return*/, x];\n                        if (!searchResult || !searchResult.data || !searchResult.data.result)\n                            return [2 /*return*/, x];\n                        _loop_3 = function (result) {\n                            var bv = new BiliBiliVideoAPI_1.BiliBiliVideoApi();\n                            var bvDetail = bv.getBilibiliVideoData(result.aid, result.bvid);\n                            var multipage = bvDetail.then(function (bvDetail) {\n                                if (bvDetail && bvDetail.data) {\n                                    var pages = bvDetail.data.pages;\n                                    if (pages.length > 1) {\n                                        return true;\n                                    }\n                                    else {\n                                        return false;\n                                    }\n                                }\n                                else {\n                                    return false;\n                                }\n                            });\n                            result.title = result.title.replace(/<[^>]+>/g, '');\n                            var mediaContainerItem = {\n                                formatMillisecondsToMinutes: this_2.formatMillisecondsToMinutes,\n                                id: result.id,\n                                title: result.title,\n                                img: \"https:\".concat(result.pic),\n                                url: result.arcurl,\n                                author: result.author,\n                                multipage: multipage,\n                                duration: result.duration,\n                                MediaRequest: function () {\n                                    if (!result.bvid)\n                                        return;\n                                    var socket = new Socket_1.Socket();\n                                    var sMedia = new Media_1.Media();\n                                    bvDetail.then(function (bvDetail) {\n                                        if (!bvDetail || !bvDetail.data) {\n                                            var updateDom = new UpdateDOM_1.UpdateDom();\n                                            updateDom.changeStatusIIROSE_MEDIA();\n                                            return;\n                                        }\n                                        ;\n                                        if (bvDetail.data.pages.length === 1) {\n                                            var updateDom = new UpdateDOM_1.UpdateDom();\n                                            updateDom.changeStatusIIROSE_MEDIA();\n                                            var bvResource = bv.getBilibiliVideoStream(result.id, result.bvid, bvDetail.data.cid, 112, 'html5');\n                                            bvResource.then(function (bvResource) {\n                                                if (!bvResource || !bvResource.data || !bvResource.data.durl || !bvResource.data.quality)\n                                                    return null;\n                                                if (bvResource.data.quality === 6)\n                                                    bvResource.data.quality = 2;\n                                                var mediaData = {\n                                                    type: 'video',\n                                                    name: result.title,\n                                                    singer: result.author,\n                                                    cover: \"https:\".concat(result.pic),\n                                                    link: result.arcurl,\n                                                    url: bvResource.data.durl[0].url,\n                                                    duration: bvResource.data.durl[0].length / 1000,\n                                                    bitRate: bvResource.data.quality,\n                                                    color: 'FFFFFF',\n                                                    origin: 'bilibili'\n                                                };\n                                                socket.sendMessage(sMedia.mediaCard(mediaData));\n                                                socket.sendMessage(sMedia.mediaEvent(mediaData));\n                                            });\n                                        }\n                                        else {\n                                            var mediaItems_2 = [];\n                                            var cids = bvDetail.data.pages.map(function (page) { return page.cid; });\n                                            for (var i = 0; i < cids.length; i++) {\n                                                var totalSeconds = Math.floor(bvDetail.data.pages[i].duration * 1000 / 1000);\n                                                var minutes = Math.floor(totalSeconds / 60);\n                                                var seconds = totalSeconds % 60;\n                                                // 格式化为 xx:xx 形式\n                                                var formattedTime = \"\".concat(minutes.toString().padStart(2, '0'), \":\").concat(seconds.toString().padStart(2, '0'));\n                                                mediaItems_2.push({\n                                                    id: result.id,\n                                                    keyword: keyword,\n                                                    title: bvDetail.data.pages[i].part,\n                                                    img: \"https:\".concat(result.pic),\n                                                    url: \"\".concat(result.arcurl, \"?p=\").concat(i + 1),\n                                                    author: result.author,\n                                                    duration: formattedTime,\n                                                    bilibili: {\n                                                        bvid: result.bvid,\n                                                        cid: cids[i]\n                                                    }\n                                                });\n                                            }\n                                            var videoContainer = document.getElementById('VideoContainer');\n                                            var mediaContainer_1 = new MediaContainer_1.MediaContainer();\n                                            mediaContainer_1.goMultiPage(videoContainer, mediaItems_2, 'rgb(221, 28, 4)');\n                                        }\n                                    });\n                                },\n                            };\n                            x.push(Promise.resolve([mediaContainerItem]));\n                        };\n                        this_2 = this;\n                        try {\n                            for (_a = __values(searchResult.data.result), _b = _a.next(); !_b.done; _b = _a.next()) {\n                                result = _b.value;\n                                _loop_3(result);\n                            }\n                        }\n                        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                        finally {\n                            try {\n                                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                            }\n                            finally { if (e_4) throw e_4.error; }\n                        }\n                        mediaItems = [];\n                        pagesize = searchResult.data.pagesize;\n                        currentpage = searchResult.data.page;\n                        numPages = searchResult.data.numPages;\n                        actualItems = numPages * pagesize;\n                        for (i = 1; i <= actualItems; i++) {\n                            mediaItems.push({\n                                id: i,\n                                keyword: keyword,\n                            });\n                        }\n                        mediaContainer = new MediaContainer_1.MediaContainer();\n                        mediaContainer.updatePaginationBilibiliSearchVideo(currentpage, mediaItems);\n                        return [2 /*return*/, x];\n                }\n            });\n        });\n    };\n    /**\n     * 根据关键词搜索视频\n     * @param currentPage\n     * @param mediaItems\n     * @returns\n     */\n    Video.prototype.bilibiliSearchMediaContainerItemByKeyword = function (currentPage, mediaItems) {\n        return __awaiter(this, void 0, void 0, function () {\n            var bs, searchResult, x;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!mediaItems[0].keyword)\n                            return [2 /*return*/, []];\n                        bs = new BiliBiliSearch_1.BiliBiliSearchApi();\n                        return [4 /*yield*/, bs.getSearchRequestByTypeVideo(mediaItems[0].keyword, currentPage, 10)];\n                    case 1:\n                        searchResult = _a.sent();\n                        x = [];\n                        if (!searchResult || !searchResult.data)\n                            return [2 /*return*/, x];\n                        if (!searchResult || !searchResult.data || !searchResult.data.result)\n                            return [2 /*return*/, x];\n                        searchResult.data.result.forEach(function (result, index) {\n                            var bv = new BiliBiliVideoAPI_1.BiliBiliVideoApi();\n                            var bvDetail = bv.getBilibiliVideoData(result.aid, result.bvid);\n                            result.title = result.title.replace(/<[^>]+>/g, '');\n                            var multipage = bvDetail.then(function (bvDetail) {\n                                if (bvDetail && bvDetail.data) {\n                                    var pages = bvDetail.data.pages;\n                                    if (pages.length > 1) {\n                                        return true;\n                                    }\n                                    else {\n                                        return false;\n                                    }\n                                }\n                                else {\n                                    return false;\n                                }\n                            });\n                            var mediaContainerItem = {\n                                id: result.id,\n                                title: result.title,\n                                img: \"https:\".concat(result.pic),\n                                url: result.arcurl,\n                                author: result.author,\n                                multipage: multipage,\n                                duration: result.duration,\n                                MediaRequest: function () {\n                                    if (!result.bvid)\n                                        return;\n                                    var socket = new Socket_1.Socket();\n                                    var sMedia = new Media_1.Media();\n                                    bvDetail.then(function (bvDetail) {\n                                        if (!bvDetail || !bvDetail.data)\n                                            return;\n                                        if (!bvDetail || !bvDetail.data) {\n                                            var updateDom = new UpdateDOM_1.UpdateDom();\n                                            updateDom.changeStatusIIROSE_MEDIA();\n                                            return;\n                                        }\n                                        ;\n                                        if (bvDetail.data.pages.length === 1) {\n                                            var bvResource = bv.getBilibiliVideoStream(result.id, result.bvid, bvDetail.data.cid, 112, 'html5');\n                                            bvResource.then(function (bvResource) {\n                                                if (!bvResource || !bvResource.data || !bvResource.data.durl || !bvResource.data.quality)\n                                                    return null;\n                                                if (bvResource.data.quality === 6)\n                                                    bvResource.data.quality = 2;\n                                                var mediaData = {\n                                                    type: 'video',\n                                                    name: result.title,\n                                                    singer: result.author,\n                                                    cover: \"https:\".concat(result.pic),\n                                                    link: result.arcurl,\n                                                    url: bvResource.data.durl[0].url,\n                                                    duration: bvResource.data.durl[0].length / 1000,\n                                                    bitRate: bvResource.data.quality,\n                                                    color: 'FFFFFF',\n                                                    origin: 'bilibili'\n                                                };\n                                                socket.sendMessage(sMedia.mediaCard(mediaData));\n                                                socket.sendMessage(sMedia.mediaEvent(mediaData));\n                                            });\n                                        }\n                                        else {\n                                            var cids = bvDetail.data.pages.map(function (page) { return page.cid; });\n                                            var newMediaItems = [];\n                                            for (var i = 0; i < cids.length; i++) {\n                                                var totalSeconds = Math.floor(bvDetail.data.pages[i].duration * 1000 / 1000);\n                                                var minutes = Math.floor(totalSeconds / 60);\n                                                var seconds = totalSeconds % 60;\n                                                // 格式化为 xx:xx 形式\n                                                var formattedTime = \"\".concat(minutes.toString().padStart(2, '0'), \":\").concat(seconds.toString().padStart(2, '0'));\n                                                newMediaItems.push({\n                                                    id: result.id,\n                                                    keyword: mediaItems[0].keyword,\n                                                    title: bvDetail.data.pages[i].part,\n                                                    img: \"https:\".concat(result.pic),\n                                                    url: \"\".concat(result.arcurl, \"?p=\").concat(i + 1),\n                                                    author: result.author,\n                                                    duration: formattedTime,\n                                                    bilibili: {\n                                                        bvid: result.bvid,\n                                                        cid: cids[i]\n                                                    }\n                                                });\n                                            }\n                                            console.log(newMediaItems);\n                                            var videoContainer = document.getElementById('VideoContainer');\n                                            var mediaContainer = new MediaContainer_1.MediaContainer();\n                                            mediaContainer.goMultiPage(videoContainer, newMediaItems, 'rgb(221, 28, 4)');\n                                        }\n                                    });\n                                },\n                            };\n                            x.push(Promise.resolve([mediaContainerItem]));\n                        });\n                        return [2 /*return*/, x];\n                }\n            });\n        });\n    };\n    Video.prototype.bilibiliVideoMediaContainerItemByCids = function (currentPage, mediaItems) {\n        return __awaiter(this, void 0, void 0, function () {\n            var itemPerPage, StartItem, x, _loop_4, mediaItems_3, mediaItems_3_1, item;\n            var e_5, _a;\n            return __generator(this, function (_b) {\n                itemPerPage = 10;\n                StartItem = (currentPage - 1) * itemPerPage;\n                mediaItems = mediaItems.slice(StartItem, StartItem + itemPerPage);\n                console.log(StartItem);\n                x = [];\n                _loop_4 = function (item) {\n                    if (!item.author || !item.duration || !item.id || !item.img || !item.title || !item.url || !item.bilibili || !item.bilibili.bvid || !item.bilibili.cid)\n                        return \"continue\";\n                    var mediaContainerItem = {\n                        id: item.id,\n                        title: item.title,\n                        img: item.img,\n                        url: item.url,\n                        author: item.author,\n                        duration: item.duration,\n                        MediaRequest: function () {\n                            if (!item.author || !item.duration || !item.id || !item.img || !item.title || !item.url || !item.bilibili || !item.bilibili.bvid || !item.bilibili.cid)\n                                return;\n                            var bv = new BiliBiliVideoAPI_1.BiliBiliVideoApi();\n                            var bvDetail = bv.getBilibiliVideoData(item.id, item.bilibili.bvid);\n                            var socket = new Socket_1.Socket();\n                            var sMedia = new Media_1.Media();\n                            var updateDom = new UpdateDOM_1.UpdateDom();\n                            updateDom.changeStatusIIROSE_MEDIA();\n                            bvDetail.then(function (bvDetail) {\n                                if (!item.author || !item.duration || !item.id || !item.img || !item.title || !item.url || !item.bilibili || !item.bilibili.bvid || !item.bilibili.cid)\n                                    return;\n                                if (!bvDetail || !bvDetail.data)\n                                    return;\n                                var bvResource = bv.getBilibiliVideoStream(item.id, item.bilibili.bvid, item.bilibili.cid, 112, 'html5');\n                                bvResource.then(function (bvResource) {\n                                    if (!item.author || !item.duration || !item.id || !item.img || !item.title || !item.url || !item.bilibili || !item.bilibili.bvid || !item.bilibili.cid)\n                                        return;\n                                    if (!bvResource || !bvResource.data || !bvResource.data.durl || !bvResource.data.quality)\n                                        return null;\n                                    if (bvResource.data.quality === 6)\n                                        bvResource.data.quality = 2;\n                                    var mediaData = {\n                                        type: 'video',\n                                        name: item.title,\n                                        singer: item.author,\n                                        cover: \"\".concat(item.img),\n                                        link: item.url,\n                                        url: bvResource.data.durl[0].url,\n                                        duration: bvResource.data.durl[0].length / 1000,\n                                        bitRate: bvResource.data.quality,\n                                        color: 'FFFFFF',\n                                        origin: 'bilibili'\n                                    };\n                                    socket.sendMessage(sMedia.mediaCard(mediaData));\n                                    socket.sendMessage(sMedia.mediaEvent(mediaData));\n                                });\n                            });\n                        }\n                    };\n                    x.push(Promise.resolve([mediaContainerItem]));\n                };\n                try {\n                    for (mediaItems_3 = __values(mediaItems), mediaItems_3_1 = mediaItems_3.next(); !mediaItems_3_1.done; mediaItems_3_1 = mediaItems_3.next()) {\n                        item = mediaItems_3_1.value;\n                        _loop_4(item);\n                    }\n                }\n                catch (e_5_1) { e_5 = { error: e_5_1 }; }\n                finally {\n                    try {\n                        if (mediaItems_3_1 && !mediaItems_3_1.done && (_a = mediaItems_3.return)) _a.call(mediaItems_3);\n                    }\n                    finally { if (e_5) throw e_5.error; }\n                }\n                return [2 /*return*/, x];\n            });\n        });\n    };\n    return Video;\n}());\nexports.Video = Video;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Platform/Video.ts?");

/***/ }),

/***/ "./src/Socket/Media/index.ts":
/*!***********************************!*\
  !*** ./src/Socket/Media/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Media = void 0;\nvar html_entities_1 = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'html-entities'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\nvar Media = /** @class */ (function () {\n    function Media() {\n    }\n    Media.prototype.mediaCard = function (media) {\n        function parseBitrate(bitrate) {\n            switch (bitrate) {\n                case 10000:\n                    return '1e4';\n                case 20000:\n                    return '2e4';\n                case 30000:\n                    return '3e4';\n                default:\n                    return bitrate;\n            }\n        }\n        function durationToText(duration) {\n            var secondsInMinute = 60;\n            var secondsInHour = secondsInMinute * 60;\n            var secondsInDay = secondsInHour * 24;\n            var secondsInYear = secondsInDay * 365;\n            var secondsInMillennium = secondsInYear * 1000;\n            var secondsInTenThousandYears = secondsInMillennium * 10;\n            var secondsInHundredThousandYears = secondsInTenThousandYears * 10;\n            var secondsInMillionYears = secondsInHundredThousandYears * 10;\n            var secondsInTenMillionYears = secondsInMillionYears * 10;\n            var secondsInHundredMillionYears = secondsInTenMillionYears * 10;\n            var secondsInBillionYears = secondsInHundredMillionYears * 10;\n            var billionYears = Math.floor(duration / secondsInBillionYears);\n            duration %= secondsInBillionYears;\n            var hundredMillionYears = Math.floor(duration / secondsInHundredMillionYears);\n            duration %= secondsInHundredMillionYears;\n            var tenMillionYears = Math.floor(duration / secondsInTenMillionYears);\n            duration %= secondsInTenMillionYears;\n            var millionYears = Math.floor(duration / secondsInMillionYears);\n            duration %= secondsInMillionYears;\n            var hundredThousandYears = Math.floor(duration / secondsInHundredThousandYears);\n            duration %= secondsInHundredThousandYears;\n            var tenThousandYears = Math.floor(duration / secondsInTenThousandYears);\n            duration %= secondsInTenThousandYears;\n            var millennia = Math.floor(duration / secondsInMillennium);\n            duration %= secondsInMillennium;\n            var years = Math.floor(duration / secondsInYear);\n            duration %= secondsInYear;\n            var days = Math.floor(duration / secondsInDay);\n            duration %= secondsInDay;\n            var hours = Math.floor(duration / secondsInHour);\n            duration %= secondsInHour;\n            var minutes = Math.floor(duration / secondsInMinute);\n            var seconds = duration % secondsInMinute;\n            var text = '';\n            if (billionYears > 0) {\n                text += \"\".concat(billionYears, \"\\u4EBF\\u5E74 \");\n            }\n            if (hundredMillionYears > 0) {\n                text += \"\".concat(hundredMillionYears, \"\\u4EBF\\u5E74 \");\n            }\n            if (tenMillionYears > 0) {\n                text += \"\".concat(tenMillionYears, \"\\u5343\\u4E07\\u5E74 \");\n            }\n            if (millionYears > 0) {\n                text += \"\".concat(millionYears, \"\\u767E\\u4E07\\u5E74 \");\n            }\n            if (hundredThousandYears > 0) {\n                text += \"\".concat(hundredThousandYears, \"\\u5341\\u4E07\\u5E74 \");\n            }\n            if (tenThousandYears > 0) {\n                text += \"\".concat(tenThousandYears, \"\\u4E07\\u5E74 \");\n            }\n            if (millennia > 0) {\n                text += \"\".concat(millennia, \"\\u5343\\u5E74 \");\n            }\n            if (years > 0) {\n                text += \"\".concat(years, \"\\u5E74 \");\n            }\n            if (days > 0) {\n                text += \"\".concat(days, \"\\u5929 \");\n            }\n            if (hours > 0) {\n                text += \"\".concat(hours, \"\\u5C0F\\u65F6 \");\n            }\n            if (minutes > 0) {\n                text += \"\".concat(minutes, \"\\u5206\\u949F \");\n            }\n            if (seconds > 0) {\n                text += \"\".concat(seconds, \"\\u79D2\");\n            }\n            return text.trim();\n        }\n        var timestamp = new Date().getTime();\n        var typeMap = {\n            music: \"=0\",\n            video: \"=1\",\n            netease: \"@0\",\n            xiamimusic: \"@1\",\n            qqmusic: \"@2\",\n            qianqianmusic: \"@3\",\n            kugoumusic: \"@4\",\n            ximalayafm: \"@5\",\n            lizhifm: \"@6\",\n            echohuisheng: \"@7\",\n            fivesing: \"@8\",\n            iqiyi: \"*0\",\n            tencentvideo: \"*1\",\n            youtube: \"*2\",\n            bilibili: \"*3\",\n            mangotv: \"*4\",\n            tiktok: \"*5\",\n            kuaishou: \"*6\",\n            onesixthreemv: \"*7\",\n            bilibililive: \"*8\"\n        };\n        var t;\n        if (media.origin && media.origin !== 'null' && media.origin !== 'undefined') {\n            t = media.origin;\n        }\n        else {\n            t = media.type;\n        }\n        var medianame = (0, html_entities_1.encode)(media.name);\n        var mediasinger = (0, html_entities_1.encode)(media.singer);\n        var mediacolor = (0, html_entities_1.encode)(media.color);\n        if (media.type === 'video') {\n            var data = {\n                m: \"m__4\".concat(typeMap[t], \">\").concat(medianame, \">\").concat(mediasinger, \">\").concat(media.cover, \">\").concat(mediacolor, \">>\").concat(parseBitrate(media.bitRate), \">>\").concat(durationToText(media.duration)),\n                mc: media.color,\n                i: timestamp\n            };\n            return JSON.stringify(data);\n        }\n        else {\n            var data = {\n                m: \"m__4\".concat(typeMap[t], \">\").concat(medianame, \">\").concat(mediasinger, \">\").concat(media.cover, \">\").concat(mediacolor, \">\").concat(parseBitrate(media.bitRate)),\n                mc: media.color,\n                i: timestamp\n            };\n            return JSON.stringify(data);\n        }\n    };\n    Media.prototype.mediaEvent = function (media) {\n        var typeMap = {\n            music: \"=0\",\n            video: \"=1\",\n            netease: \"@0\",\n            xiamimusic: \"@1\",\n            qqmusic: \"@2\",\n            qianqianmusic: \"@3\",\n            kugoumusic: \"@4\",\n            ximalayafm: \"@5\",\n            lizhifm: \"@6\",\n            echohuisheng: \"@7\",\n            fivesing: \"@8\",\n            iqiyi: \"!0\",\n            tencentvideo: \"!1\",\n            youtube: \"!2\",\n            bilibili: \"!3\",\n            mangotv: \"!4\",\n            tiktok: \"!5\",\n            kuaishou: \"!6\",\n            onesixthreemv: \"!7\",\n            bilibililive: \"!8\"\n        };\n        var t;\n        if (media.origin && media.origin !== 'null' && media.origin !== 'undefined') {\n            t = media.origin;\n        }\n        else {\n            t = media.type;\n        }\n        var data = JSON.stringify({\n            s: media.url.substr(4),\n            d: media.duration,\n            c: media.cover.substr(4),\n            n: media.name,\n            r: media.singer,\n            b: \"\".concat(typeMap[t]),\n            o: media.link.substr(4),\n            l: media.lyrics\n        });\n        if (media.type === 'video') {\n            return \"&1\".concat(data);\n        }\n        else {\n            return \"&0\".concat(data);\n        }\n    };\n    return Media;\n}());\nexports.Media = Media;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Socket/Media/index.ts?");

/***/ }),

/***/ "./src/Socket/index.ts":
/*!*****************************!*\
  !*** ./src/Socket/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Socket = void 0;\nvar Socket = /** @class */ (function () {\n    function Socket() {\n    }\n    Socket.prototype.sendMessage = function (data) {\n        console.log(data);\n        if (!window.WebSocket)\n            return;\n        if (socket) {\n            socket.send(data);\n        }\n    };\n    return Socket;\n}());\nexports.Socket = Socket;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/Socket/index.ts?");

/***/ }),

/***/ "./src/UpdateDOM/MediaContainerDisplay.ts":
/*!************************************************!*\
  !*** ./src/UpdateDOM/MediaContainerDisplay.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MediaContainerDisplay = void 0;\nvar MediaContainer_1 = __webpack_require__(/*! ../IIROSE-MEDIA/MediaContainer */ \"./src/IIROSE-MEDIA/MediaContainer.ts\");\nvar MediaContainerDisplay = /** @class */ (function () {\n    function MediaContainerDisplay() {\n    }\n    MediaContainerDisplay.prototype.displayPleaseSearch = function (color) {\n        function createPleaseSearchMsg() {\n            var msgWrapper = document.createElement('div');\n            msgWrapper.classList.add('containerMsgWrapper');\n            msgWrapper.style.color = color;\n            var msgLogo = document.createElement('div');\n            msgLogo.classList.add('searchLogo');\n            var msgText = document.createElement('div');\n            msgText.classList.add('containerMsg');\n            msgText.innerText = '请点击搜索图标进行搜索！';\n            msgWrapper.appendChild(msgLogo);\n            msgWrapper.appendChild(msgText);\n            return msgWrapper;\n        }\n        var MediaContainerContent = document.getElementById('MediaContainerContent');\n        if (!MediaContainerContent)\n            return;\n        var parent = MediaContainerContent.parentElement;\n        if (!parent)\n            return;\n        MediaContainerContent.remove();\n        var newMediaContainerContent = document.createElement('div');\n        newMediaContainerContent.classList.add('MediaContainerContent');\n        newMediaContainerContent.id = 'MediaContainerContent';\n        newMediaContainerContent.style.opacity = '0';\n        newMediaContainerContent.appendChild(createPleaseSearchMsg());\n        newMediaContainerContent.style.height = '100%';\n        var mediacontainer = new MediaContainer_1.MediaContainer();\n        mediacontainer.updatePaginationNotings();\n        parent.appendChild(newMediaContainerContent);\n        setTimeout(function () {\n            newMediaContainerContent.style.opacity = '1';\n        }, 1);\n    };\n    return MediaContainerDisplay;\n}());\nexports.MediaContainerDisplay = MediaContainerDisplay;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/UpdateDOM/MediaContainerDisplay.ts?");

/***/ }),

/***/ "./src/UpdateDOM/MusicMediaContainer.ts":
/*!**********************************************!*\
  !*** ./src/UpdateDOM/MusicMediaContainer.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MusicMediaContainer = void 0;\nvar MediaContainer_1 = __webpack_require__(/*! ../IIROSE-MEDIA/MediaContainer */ \"./src/IIROSE-MEDIA/MediaContainer.ts\");\nvar Music_1 = __webpack_require__(/*! ../Platform/Music */ \"./src/Platform/Music.ts\");\nvar MusicMediaContainer = /** @class */ (function () {\n    function MusicMediaContainer() {\n    }\n    MusicMediaContainer.prototype.showMusicMediaContainer = function () {\n        var prevmediaContainer = document.querySelector('.MediaContainer');\n        if (!prevmediaContainer || prevmediaContainer.id === 'MusicContainer')\n            return;\n        prevmediaContainer.style.opacity = '0';\n        // 添加动画结束事件的监听器\n        prevmediaContainer.addEventListener('transitionend', function () {\n            prevmediaContainer.remove();\n        }, { once: true });\n        var MediaContainerWrapper = document.getElementById('MediaContainerWrapper');\n        if (!MediaContainerWrapper)\n            return;\n        var mediaContainer = new MediaContainer_1.MediaContainer();\n        var music = new Music_1.Music();\n        var platforms = music.music();\n        var musicMediaContainer = mediaContainer.createMediaCOntainer(platforms, 'MusicContainer');\n        // videoMediaContainer.style.transform = 'translateX(10%)';\n        musicMediaContainer.style.opacity = '0';\n        MediaContainerWrapper.appendChild(musicMediaContainer);\n        setTimeout(function () {\n            musicMediaContainer.style.opacity = '1';\n        }, 1);\n    };\n    return MusicMediaContainer;\n}());\nexports.MusicMediaContainer = MusicMediaContainer;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/UpdateDOM/MusicMediaContainer.ts?");

/***/ }),

/***/ "./src/UpdateDOM/SettingContainer.ts":
/*!*******************************************!*\
  !*** ./src/UpdateDOM/SettingContainer.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SettingContainer = void 0;\nvar SettingContainer = /** @class */ (function () {\n    function SettingContainer() {\n    }\n    SettingContainer.prototype.showSettingContainer = function () {\n        var prevmediaContainer = document.querySelector('.MediaContainer');\n        if (!prevmediaContainer || prevmediaContainer.id === 'SettingContainer')\n            return;\n    };\n    return SettingContainer;\n}());\nexports.SettingContainer = SettingContainer;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/UpdateDOM/SettingContainer.ts?");

/***/ }),

/***/ "./src/UpdateDOM/ShowMessage.ts":
/*!**************************************!*\
  !*** ./src/UpdateDOM/ShowMessage.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.showMessage = void 0;\nvar showMessage = /** @class */ (function () {\n    function showMessage() {\n    }\n    showMessage.prototype.showMessage = function (message) {\n        if (!window._alert)\n            return;\n        window._alert(message);\n    };\n    return showMessage;\n}());\nexports.showMessage = showMessage;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/UpdateDOM/ShowMessage.ts?");

/***/ }),

/***/ "./src/UpdateDOM/VideoMediaContainer.ts":
/*!**********************************************!*\
  !*** ./src/UpdateDOM/VideoMediaContainer.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VideoMediaContainer = void 0;\nvar MediaContainer_1 = __webpack_require__(/*! ../IIROSE-MEDIA/MediaContainer */ \"./src/IIROSE-MEDIA/MediaContainer.ts\");\nvar Video_1 = __webpack_require__(/*! ../Platform/Video */ \"./src/Platform/Video.ts\");\nvar VideoMediaContainer = /** @class */ (function () {\n    function VideoMediaContainer() {\n    }\n    VideoMediaContainer.prototype.showVideoMediaContainer = function () {\n        var prevmediaContainer = document.querySelector('.MediaContainer');\n        if (!prevmediaContainer || prevmediaContainer.id === 'VideoContainer')\n            return;\n        prevmediaContainer.style.opacity = '0';\n        // 添加动画结束事件的监听器\n        prevmediaContainer.addEventListener('transitionend', function () {\n            prevmediaContainer.remove();\n        }, { once: true });\n        var MediaContainerWrapper = document.getElementById('MediaContainerWrapper');\n        if (!MediaContainerWrapper)\n            return;\n        var video = new Video_1.Video();\n        var platforms = video.video();\n        var mediaContainer = new MediaContainer_1.MediaContainer();\n        var videoMediaContainer = mediaContainer.createMediaCOntainer(platforms, 'VideoContainer');\n        videoMediaContainer.style.opacity = '0';\n        MediaContainerWrapper.appendChild(videoMediaContainer);\n        setTimeout(function () {\n            // videoMediaContainer.style.transform = 'translateX(0)';\n            videoMediaContainer.style.opacity = '1';\n        }, 1);\n    };\n    return VideoMediaContainer;\n}());\nexports.VideoMediaContainer = VideoMediaContainer;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/UpdateDOM/VideoMediaContainer.ts?");

/***/ }),

/***/ "./src/UpdateDOM/index.ts":
/*!********************************!*\
  !*** ./src/UpdateDOM/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.UpdateDom = void 0;\nvar UpdateDom = /** @class */ (function () {\n    function UpdateDom() {\n    }\n    UpdateDom.prototype.changeStatusIIROSE_MEDIA = function () {\n        console.log('changeStatusIIROSE_MEDIA');\n        var IIROSE_MEDIA = document.getElementById('IIROSE_MEDIA_CONTAINER');\n        var mainHolder = document.getElementById('mainHolder');\n        if (IIROSE_MEDIA && mainHolder) {\n            IIROSE_MEDIA.classList.toggle('ShowIIROSE_MEDIA_CONTAINER');\n            mainHolder.classList.toggle('hidemainHolder');\n        }\n    };\n    return UpdateDom;\n}());\nexports.UpdateDom = UpdateDom;\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/UpdateDOM/index.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar index_1 = __webpack_require__(/*! ./HotKey/index */ \"./src/HotKey/index.ts\");\nvar index_2 = __webpack_require__(/*! ./IIROSE-MEDIA/index */ \"./src/IIROSE-MEDIA/index.ts\");\nvar Env_1 = __webpack_require__(/*! ./Env */ \"./src/Env/index.ts\");\nvar SetBiliBili_1 = __webpack_require__(/*! ./Account/SetBiliBili */ \"./src/Account/SetBiliBili.ts\");\nvar init = /** @class */ (function () {\n    function init() {\n        var env = new Env_1.ENV();\n        env.setEnv();\n        var bilibiliAcc = new SetBiliBili_1.BiliBiliAccount();\n        bilibiliAcc.setBiliBiliAccountDefaultCookie();\n    }\n    init.prototype.init = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var iirosemedia, hotKey;\n            return __generator(this, function (_a) {\n                // const bs = new BiliBiliSearchApi();\n                // const searchResult = await bs.getSearchRequestByTypeVideo('a', 1, 10);\n                // console.log(searchResult)\n                if (typeof document === 'undefined') {\n                    console.log('[IIROSE-MEDIA] - 加载失败，当前环境不支持document对象');\n                    return [2 /*return*/];\n                }\n                iirosemedia = new index_2.IIROSEMEDIA();\n                hotKey = new index_1.HotKey();\n                iirosemedia.createIIROSEMEDIA();\n                console.log('[IIROSE-MEDIA] - 加载成功');\n                return [2 /*return*/];\n            });\n        });\n    };\n    return init;\n}());\nvar app = new init();\napp.init();\n\n\n//# sourceURL=webpack://iirose-media-ts/./src/index.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;